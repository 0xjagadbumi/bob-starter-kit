{"abi":[{"type":"function","name":"getBlockDifficulty","inputs":[{"name":"blockNumber","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getCurrentEpochDifficulty","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getEpochDifficulty","inputs":[{"name":"epochNumber","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPrevEpochDifficulty","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getRelayRange","inputs":[],"outputs":[{"name":"relayGenesis","type":"uint256","internalType":"uint256"},{"name":"currentEpochEnd","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"retarget","inputs":[{"name":"headers","type":"bytes","internalType":"bytes"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"validateChain","inputs":[{"name":"headers","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"startingHeaderTimestamp","type":"uint256","internalType":"uint256"},{"name":"headerCount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"AuthorizationRequirementChanged","inputs":[{"name":"newStatus","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"Genesis","inputs":[{"name":"blockHeight","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ProofLengthChanged","inputs":[{"name":"newLength","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Retarget","inputs":[{"name":"oldDifficulty","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newDifficulty","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SubmitterAuthorized","inputs":[{"name":"submitter","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SubmitterDeauthorized","inputs":[{"name":"submitter","type":"address","indexed":false,"internalType":"address"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"getBlockDifficulty(uint256)":"06a27422","getCurrentEpochDifficulty()":"113764be","getEpochDifficulty(uint256)":"620414e6","getPrevEpochDifficulty()":"2b97be24","getRelayRange()":"10b76ed8","retarget(bytes)":"7ca5b1dd","validateChain(bytes)":"189179a3"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"newStatus\",\"type\":\"bool\"}],\"name\":\"AuthorizationRequirementChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"blockHeight\",\"type\":\"uint256\"}],\"name\":\"Genesis\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newLength\",\"type\":\"uint256\"}],\"name\":\"ProofLengthChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldDifficulty\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newDifficulty\",\"type\":\"uint256\"}],\"name\":\"Retarget\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"submitter\",\"type\":\"address\"}],\"name\":\"SubmitterAuthorized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"submitter\",\"type\":\"address\"}],\"name\":\"SubmitterDeauthorized\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"}],\"name\":\"getBlockDifficulty\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getCurrentEpochDifficulty\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"epochNumber\",\"type\":\"uint256\"}],\"name\":\"getEpochDifficulty\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPrevEpochDifficulty\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRelayRange\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"relayGenesis\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"currentEpochEnd\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"headers\",\"type\":\"bytes\"}],\"name\":\"retarget\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"headers\",\"type\":\"bytes\"}],\"name\":\"validateChain\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"startingHeaderTimestamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"headerCount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"getCurrentEpochDifficulty()\":{\"notice\":\"Returns the difficulty of the current epoch.\"},\"getPrevEpochDifficulty()\":{\"notice\":\"Returns the difficulty of the previous epoch.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/bob/src/relay/LightRelay.sol\":\"ILightRelay\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@account-abstraction/=lib/bob/lib/account-abstraction/\",\":@bob-collective/bitcoin-spv/=lib/bitcoin-spv/src/\",\":@bob-collective/bob/=lib/bob/src/\",\":@opengsn/=lib/bob/lib/gsn/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":account-abstraction/=lib/bob/lib/account-abstraction/contracts/\",\":bitcoin-spv/=lib/bitcoin-spv/\",\":bob/=lib/bob/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":gsn.git/=lib/bob/lib/gsn/\",\":gsn/=lib/bob/lib/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/\"]},\"sources\":{\"lib/bitcoin-spv/src/BTCUtils.sol\":{\"keccak256\":\"0x439eaa97e9239705f3d31e8d39dccbad32311f1f119e295d53c65e0ae3c5a5fc\",\"urls\":[\"bzz-raw://976a361a89c21afc44b5e0a552271d9288b12cf34a9925c25f3c6975ece4e667\",\"dweb:/ipfs/QmNTb4eJyxV5iZj8RJGFBGSKXWsuvoMYqLLBgk16dhWePH\"]},\"lib/bitcoin-spv/src/BytesLib.sol\":{\"keccak256\":\"0x43e0f3b3b23c861bd031588bf410dfdd02e2af17941a89aa38d70e534e0380d1\",\"urls\":[\"bzz-raw://76011d699a8b229dbfdc698b3ece658daad9d96778e86d679aa576bc966209d6\",\"dweb:/ipfs/QmRZEWAeRQtsTUvfzEd1jb2wAqpTNR5KAme92gBRn4SYiT\"]},\"lib/bitcoin-spv/src/SafeMath.sol\":{\"keccak256\":\"0x35930d982394c7ffde439b82e5e696c5b21a6f09699d44861dfe409ef64084a3\",\"urls\":[\"bzz-raw://090e9d78755d4916fa2f5f5d8f9fd2fc59bfc5a25a5e91636a92c4c07aee9c6b\",\"dweb:/ipfs/QmXfz4TPDvgnuYz9eS5AL87GfCLxHQZJV1Y8ieJU9M8yTe\"]},\"lib/bitcoin-spv/src/ValidateSPV.sol\":{\"keccak256\":\"0xce3febbf3ad3a7ff8a8effd0c7ccaf7ccfa2719578b537d49ea196f0bae8062b\",\"urls\":[\"bzz-raw://5f18942483bf20507ae6c0abb5421df96b1aebb7af15f541bda8470f6277312a\",\"dweb:/ipfs/QmPzEpA8w5k6pVFadm3UCLqNdxFAjPwP9Lpi5HMQsQg52J\"]},\"lib/bob/src/bridge/IRelay.sol\":{\"keccak256\":\"0x71a1106388d4b4b9484de78d8d5541cd5ad0d029a5bc43582cb17a18b3a6125c\",\"license\":\"GPL-3.0-only\",\"urls\":[\"bzz-raw://1f883db175f9e8bf4102874b4a1a4ac10692c1c79ff7c18b2db63bb3cb753a09\",\"dweb:/ipfs/QmbWkLKWxH9uDvco45TnjyDQ9PZifQNB418FfgGCPbKdpp\"]},\"lib/bob/src/relay/LightRelay.sol\":{\"keccak256\":\"0x3543877849a7afe5c4251c0c97b92d73ca5ebbb978a3f819b51859df6c9efd1c\",\"license\":\"GPL-3.0-only\",\"urls\":[\"bzz-raw://59bda23bad386a331d3377a1b8df54d8bcd8355a8aac3d7b71c4114c10b67570\",\"dweb:/ipfs/QmawiJKJuCTXph2hoBkhrL6saRjFBZTrAGHFABuemiPJDD\"]},\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0x24e0364e503a9bbde94c715d26573a76f14cd2a202d45f96f52134ab806b67b9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e12cbaa7378fd9b62280e4e1d164bedcb4399ce238f5f98fc0eefb7e50577981\",\"dweb:/ipfs/QmXRoFGUgfsaRkoPT5bxNMtSayKTQ8GZATLPXf69HcRA51\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92\",\"dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.17+commit.8df45f5f"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"bool","name":"newStatus","type":"bool","indexed":false}],"type":"event","name":"AuthorizationRequirementChanged","anonymous":false},{"inputs":[{"internalType":"uint256","name":"blockHeight","type":"uint256","indexed":false}],"type":"event","name":"Genesis","anonymous":false},{"inputs":[{"internalType":"uint256","name":"newLength","type":"uint256","indexed":false}],"type":"event","name":"ProofLengthChanged","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldDifficulty","type":"uint256","indexed":false},{"internalType":"uint256","name":"newDifficulty","type":"uint256","indexed":false}],"type":"event","name":"Retarget","anonymous":false},{"inputs":[{"internalType":"address","name":"submitter","type":"address","indexed":false}],"type":"event","name":"SubmitterAuthorized","anonymous":false},{"inputs":[{"internalType":"address","name":"submitter","type":"address","indexed":false}],"type":"event","name":"SubmitterDeauthorized","anonymous":false},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"stateMutability":"view","type":"function","name":"getBlockDifficulty","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getCurrentEpochDifficulty","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"epochNumber","type":"uint256"}],"stateMutability":"view","type":"function","name":"getEpochDifficulty","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getPrevEpochDifficulty","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getRelayRange","outputs":[{"internalType":"uint256","name":"relayGenesis","type":"uint256"},{"internalType":"uint256","name":"currentEpochEnd","type":"uint256"}]},{"inputs":[{"internalType":"bytes","name":"headers","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"retarget"},{"inputs":[{"internalType":"bytes","name":"headers","type":"bytes"}],"stateMutability":"view","type":"function","name":"validateChain","outputs":[{"internalType":"uint256","name":"startingHeaderTimestamp","type":"uint256"},{"internalType":"uint256","name":"headerCount","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"getCurrentEpochDifficulty()":{"notice":"Returns the difficulty of the current epoch."},"getPrevEpochDifficulty()":{"notice":"Returns the difficulty of the previous epoch."}},"version":1}},"settings":{"remappings":["@account-abstraction/=lib/bob/lib/account-abstraction/","@bob-collective/bitcoin-spv/=lib/bitcoin-spv/src/","@bob-collective/bob/=lib/bob/src/","@opengsn/=lib/bob/lib/gsn/","@openzeppelin/=lib/openzeppelin-contracts/","account-abstraction/=lib/bob/lib/account-abstraction/contracts/","bitcoin-spv/=lib/bitcoin-spv/","bob/=lib/bob/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","gsn.git/=lib/bob/lib/gsn/","gsn/=lib/bob/lib/","openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/bob/src/relay/LightRelay.sol":"ILightRelay"},"libraries":{}},"sources":{"lib/bitcoin-spv/src/BTCUtils.sol":{"keccak256":"0x439eaa97e9239705f3d31e8d39dccbad32311f1f119e295d53c65e0ae3c5a5fc","urls":["bzz-raw://976a361a89c21afc44b5e0a552271d9288b12cf34a9925c25f3c6975ece4e667","dweb:/ipfs/QmNTb4eJyxV5iZj8RJGFBGSKXWsuvoMYqLLBgk16dhWePH"],"license":null},"lib/bitcoin-spv/src/BytesLib.sol":{"keccak256":"0x43e0f3b3b23c861bd031588bf410dfdd02e2af17941a89aa38d70e534e0380d1","urls":["bzz-raw://76011d699a8b229dbfdc698b3ece658daad9d96778e86d679aa576bc966209d6","dweb:/ipfs/QmRZEWAeRQtsTUvfzEd1jb2wAqpTNR5KAme92gBRn4SYiT"],"license":null},"lib/bitcoin-spv/src/SafeMath.sol":{"keccak256":"0x35930d982394c7ffde439b82e5e696c5b21a6f09699d44861dfe409ef64084a3","urls":["bzz-raw://090e9d78755d4916fa2f5f5d8f9fd2fc59bfc5a25a5e91636a92c4c07aee9c6b","dweb:/ipfs/QmXfz4TPDvgnuYz9eS5AL87GfCLxHQZJV1Y8ieJU9M8yTe"],"license":null},"lib/bitcoin-spv/src/ValidateSPV.sol":{"keccak256":"0xce3febbf3ad3a7ff8a8effd0c7ccaf7ccfa2719578b537d49ea196f0bae8062b","urls":["bzz-raw://5f18942483bf20507ae6c0abb5421df96b1aebb7af15f541bda8470f6277312a","dweb:/ipfs/QmPzEpA8w5k6pVFadm3UCLqNdxFAjPwP9Lpi5HMQsQg52J"],"license":null},"lib/bob/src/bridge/IRelay.sol":{"keccak256":"0x71a1106388d4b4b9484de78d8d5541cd5ad0d029a5bc43582cb17a18b3a6125c","urls":["bzz-raw://1f883db175f9e8bf4102874b4a1a4ac10692c1c79ff7c18b2db63bb3cb753a09","dweb:/ipfs/QmbWkLKWxH9uDvco45TnjyDQ9PZifQNB418FfgGCPbKdpp"],"license":"GPL-3.0-only"},"lib/bob/src/relay/LightRelay.sol":{"keccak256":"0x3543877849a7afe5c4251c0c97b92d73ca5ebbb978a3f819b51859df6c9efd1c","urls":["bzz-raw://59bda23bad386a331d3377a1b8df54d8bcd8355a8aac3d7b71c4114c10b67570","dweb:/ipfs/QmawiJKJuCTXph2hoBkhrL6saRjFBZTrAGHFABuemiPJDD"],"license":"GPL-3.0-only"},"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0x24e0364e503a9bbde94c715d26573a76f14cd2a202d45f96f52134ab806b67b9","urls":["bzz-raw://e12cbaa7378fd9b62280e4e1d164bedcb4399ce238f5f98fc0eefb7e50577981","dweb:/ipfs/QmXRoFGUgfsaRkoPT5bxNMtSayKTQ8GZATLPXf69HcRA51"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7","urls":["bzz-raw://6df0ddf21ce9f58271bdfaa85cde98b200ef242a05a3f85c2bc10a8294800a92","dweb:/ipfs/QmRK2Y5Yc6BK7tGKkgsgn3aJEQGi5aakeSPZvS65PV8Xp3"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/bob/src/relay/LightRelay.sol","id":4466,"exportedSymbols":{"BTCUtils":[2202],"BytesLib":[2561],"Context":[5229],"Epoch":[3498],"ILightRelay":[3562],"IRelay":[3483],"LightRelay":[4465],"Ownable":[4610],"RelayUtils":[3590],"ValidateSPV":[2944]},"nodeType":"SourceUnit","src":"98:23947:7","nodes":[{"id":3485,"nodeType":"PragmaDirective","src":"98:23:7","nodes":[],"literals":["solidity","0.8",".17"]},{"id":3486,"nodeType":"ImportDirective","src":"123:52:7","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/Ownable.sol","file":"@openzeppelin/contracts/access/Ownable.sol","nameLocation":"-1:-1:-1","scope":4466,"sourceUnit":4611,"symbolAliases":[],"unitAlias":""},{"id":3488,"nodeType":"ImportDirective","src":"177:66:7","nodes":[],"absolutePath":"lib/bitcoin-spv/src/BytesLib.sol","file":"@bob-collective/bitcoin-spv/BytesLib.sol","nameLocation":"-1:-1:-1","scope":4466,"sourceUnit":2562,"symbolAliases":[{"foreign":{"id":3487,"name":"BytesLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2561,"src":"185:8:7","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":3490,"nodeType":"ImportDirective","src":"244:66:7","nodes":[],"absolutePath":"lib/bitcoin-spv/src/BTCUtils.sol","file":"@bob-collective/bitcoin-spv/BTCUtils.sol","nameLocation":"-1:-1:-1","scope":4466,"sourceUnit":2203,"symbolAliases":[{"foreign":{"id":3489,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"252:8:7","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":3492,"nodeType":"ImportDirective","src":"311:72:7","nodes":[],"absolutePath":"lib/bitcoin-spv/src/ValidateSPV.sol","file":"@bob-collective/bitcoin-spv/ValidateSPV.sol","nameLocation":"-1:-1:-1","scope":4466,"sourceUnit":2945,"symbolAliases":[{"foreign":{"id":3491,"name":"ValidateSPV","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2944,"src":"319:11:7","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":3493,"nodeType":"ImportDirective","src":"385:30:7","nodes":[],"absolutePath":"lib/bob/src/bridge/IRelay.sol","file":"../bridge/IRelay.sol","nameLocation":"-1:-1:-1","scope":4466,"sourceUnit":3484,"symbolAliases":[],"unitAlias":""},{"id":3498,"nodeType":"StructDefinition","src":"417:203:7","nodes":[],"canonicalName":"Epoch","members":[{"constant":false,"id":3495,"mutability":"mutable","name":"timestamp","nameLocation":"443:9:7","nodeType":"VariableDeclaration","scope":3498,"src":"436:16:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":3494,"name":"uint32","nodeType":"ElementaryTypeName","src":"436:6:7","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":3497,"mutability":"mutable","name":"target","nameLocation":"611:6:7","nodeType":"VariableDeclaration","scope":3498,"src":"603:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"},"typeName":{"id":3496,"name":"uint224","nodeType":"ElementaryTypeName","src":"603:7:7","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}},"visibility":"internal"}],"name":"Epoch","nameLocation":"424:5:7","scope":4466,"visibility":"public"},{"id":3562,"nodeType":"ContractDefinition","src":"622:833:7","nodes":[{"id":3504,"nodeType":"EventDefinition","src":"660:35:7","nodes":[],"anonymous":false,"eventSelector":"2381d16925551c2fb1a5edfcf4fce2f6d085e1f85f4b88340c09c9d191f9d4e9","name":"Genesis","nameLocation":"666:7:7","parameters":{"id":3503,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3502,"indexed":false,"mutability":"mutable","name":"blockHeight","nameLocation":"682:11:7","nodeType":"VariableDeclaration","scope":3504,"src":"674:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3501,"name":"uint256","nodeType":"ElementaryTypeName","src":"674:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"673:21:7"}},{"id":3510,"nodeType":"EventDefinition","src":"700:61:7","nodes":[],"anonymous":false,"eventSelector":"a282ee798b132f9dc11e06cd4d8e767e562be8709602ca14fea7ab3392acbdab","name":"Retarget","nameLocation":"706:8:7","parameters":{"id":3509,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3506,"indexed":false,"mutability":"mutable","name":"oldDifficulty","nameLocation":"723:13:7","nodeType":"VariableDeclaration","scope":3510,"src":"715:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3505,"name":"uint256","nodeType":"ElementaryTypeName","src":"715:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":3508,"indexed":false,"mutability":"mutable","name":"newDifficulty","nameLocation":"746:13:7","nodeType":"VariableDeclaration","scope":3510,"src":"738:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3507,"name":"uint256","nodeType":"ElementaryTypeName","src":"738:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"714:46:7"}},{"id":3514,"nodeType":"EventDefinition","src":"766:44:7","nodes":[],"anonymous":false,"eventSelector":"3e9f904d8cf11753c79b67c8259c582056d4a7d8af120f81257a59eeb8824b96","name":"ProofLengthChanged","nameLocation":"772:18:7","parameters":{"id":3513,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3512,"indexed":false,"mutability":"mutable","name":"newLength","nameLocation":"799:9:7","nodeType":"VariableDeclaration","scope":3514,"src":"791:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3511,"name":"uint256","nodeType":"ElementaryTypeName","src":"791:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"790:19:7"}},{"id":3518,"nodeType":"EventDefinition","src":"815:54:7","nodes":[],"anonymous":false,"eventSelector":"d813b248d49c8bf08be2b6947126da6763df310beed7bea97756456c5727419a","name":"AuthorizationRequirementChanged","nameLocation":"821:31:7","parameters":{"id":3517,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3516,"indexed":false,"mutability":"mutable","name":"newStatus","nameLocation":"858:9:7","nodeType":"VariableDeclaration","scope":3518,"src":"853:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":3515,"name":"bool","nodeType":"ElementaryTypeName","src":"853:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"852:16:7"}},{"id":3522,"nodeType":"EventDefinition","src":"874:45:7","nodes":[],"anonymous":false,"eventSelector":"d53649b492f738bb59d6825099b5955073efda0bf9e3a7ad20da22e110122e29","name":"SubmitterAuthorized","nameLocation":"880:19:7","parameters":{"id":3521,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3520,"indexed":false,"mutability":"mutable","name":"submitter","nameLocation":"908:9:7","nodeType":"VariableDeclaration","scope":3522,"src":"900:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":3519,"name":"address","nodeType":"ElementaryTypeName","src":"900:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"899:19:7"}},{"id":3526,"nodeType":"EventDefinition","src":"924:47:7","nodes":[],"anonymous":false,"eventSelector":"7498b96beeabea5ad3139f1a2861a03e480034254e36b10aae2e6e42ad7b4b68","name":"SubmitterDeauthorized","nameLocation":"930:21:7","parameters":{"id":3525,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3524,"indexed":false,"mutability":"mutable","name":"submitter","nameLocation":"960:9:7","nodeType":"VariableDeclaration","scope":3526,"src":"952:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":3523,"name":"address","nodeType":"ElementaryTypeName","src":"952:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"951:19:7"}},{"id":3531,"nodeType":"FunctionDefinition","src":"977:49:7","nodes":[],"functionSelector":"7ca5b1dd","implemented":false,"kind":"function","modifiers":[],"name":"retarget","nameLocation":"986:8:7","parameters":{"id":3529,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3528,"mutability":"mutable","name":"headers","nameLocation":"1008:7:7","nodeType":"VariableDeclaration","scope":3531,"src":"995:20:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3527,"name":"bytes","nodeType":"ElementaryTypeName","src":"995:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"994:22:7"},"returnParameters":{"id":3530,"nodeType":"ParameterList","parameters":[],"src":"1025:0:7"},"scope":3562,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":3540,"nodeType":"FunctionDefinition","src":"1032:146:7","nodes":[],"functionSelector":"189179a3","implemented":false,"kind":"function","modifiers":[],"name":"validateChain","nameLocation":"1041:13:7","parameters":{"id":3534,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3533,"mutability":"mutable","name":"headers","nameLocation":"1068:7:7","nodeType":"VariableDeclaration","scope":3540,"src":"1055:20:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3532,"name":"bytes","nodeType":"ElementaryTypeName","src":"1055:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1054:22:7"},"returnParameters":{"id":3539,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3536,"mutability":"mutable","name":"startingHeaderTimestamp","nameLocation":"1132:23:7","nodeType":"VariableDeclaration","scope":3540,"src":"1124:31:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3535,"name":"uint256","nodeType":"ElementaryTypeName","src":"1124:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":3538,"mutability":"mutable","name":"headerCount","nameLocation":"1165:11:7","nodeType":"VariableDeclaration","scope":3540,"src":"1157:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3537,"name":"uint256","nodeType":"ElementaryTypeName","src":"1157:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1123:54:7"},"scope":3562,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":3547,"nodeType":"FunctionDefinition","src":"1184:81:7","nodes":[],"functionSelector":"06a27422","implemented":false,"kind":"function","modifiers":[],"name":"getBlockDifficulty","nameLocation":"1193:18:7","parameters":{"id":3543,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3542,"mutability":"mutable","name":"blockNumber","nameLocation":"1220:11:7","nodeType":"VariableDeclaration","scope":3547,"src":"1212:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3541,"name":"uint256","nodeType":"ElementaryTypeName","src":"1212:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1211:21:7"},"returnParameters":{"id":3546,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3545,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":3547,"src":"1256:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3544,"name":"uint256","nodeType":"ElementaryTypeName","src":"1256:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1255:9:7"},"scope":3562,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":3554,"nodeType":"FunctionDefinition","src":"1271:81:7","nodes":[],"functionSelector":"620414e6","implemented":false,"kind":"function","modifiers":[],"name":"getEpochDifficulty","nameLocation":"1280:18:7","parameters":{"id":3550,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3549,"mutability":"mutable","name":"epochNumber","nameLocation":"1307:11:7","nodeType":"VariableDeclaration","scope":3554,"src":"1299:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3548,"name":"uint256","nodeType":"ElementaryTypeName","src":"1299:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1298:21:7"},"returnParameters":{"id":3553,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3552,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":3554,"src":"1343:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3551,"name":"uint256","nodeType":"ElementaryTypeName","src":"1343:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1342:9:7"},"scope":3562,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":3561,"nodeType":"FunctionDefinition","src":"1358:95:7","nodes":[],"functionSelector":"10b76ed8","implemented":false,"kind":"function","modifiers":[],"name":"getRelayRange","nameLocation":"1367:13:7","parameters":{"id":3555,"nodeType":"ParameterList","parameters":[],"src":"1380:2:7"},"returnParameters":{"id":3560,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3557,"mutability":"mutable","name":"relayGenesis","nameLocation":"1414:12:7","nodeType":"VariableDeclaration","scope":3561,"src":"1406:20:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3556,"name":"uint256","nodeType":"ElementaryTypeName","src":"1406:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":3559,"mutability":"mutable","name":"currentEpochEnd","nameLocation":"1436:15:7","nodeType":"VariableDeclaration","scope":3561,"src":"1428:23:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3558,"name":"uint256","nodeType":"ElementaryTypeName","src":"1428:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1405:47:7"},"scope":3562,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":3499,"name":"IRelay","nameLocations":["647:6:7"],"nodeType":"IdentifierPath","referencedDeclaration":3483,"src":"647:6:7"},"id":3500,"nodeType":"InheritanceSpecifier","src":"647:6:7"}],"canonicalName":"ILightRelay","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[3562,3483],"name":"ILightRelay","nameLocation":"632:11:7","scope":4466,"usedErrors":[]},{"id":3590,"nodeType":"ContractDefinition","src":"1457:592:7","nodes":[{"id":3565,"nodeType":"UsingForDirective","src":"1482:25:7","nodes":[],"global":false,"libraryName":{"id":3563,"name":"BytesLib","nameLocations":["1488:8:7"],"nodeType":"IdentifierPath","referencedDeclaration":2561,"src":"1488:8:7"},"typeName":{"id":3564,"name":"bytes","nodeType":"ElementaryTypeName","src":"1501:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},{"id":3589,"nodeType":"FunctionDefinition","src":"1875:172:7","nodes":[],"body":{"id":3588,"nodeType":"Block","src":"1968:79:7","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3583,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3638","id":3581,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2030:2:7","typeDescriptions":{"typeIdentifier":"t_rational_68_by_1","typeString":"int_const 68"},"value":"68"},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":3582,"name":"at","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3570,"src":"2035:2:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2030:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3579,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3568,"src":"2015:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3580,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2023:6:7","memberName":"slice4","nodeType":"MemberAccess","referencedDeclaration":2372,"src":"2015:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_bytes4_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (bytes4)"}},"id":3584,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2015:23:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":3578,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2008:6:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":3577,"name":"uint32","nodeType":"ElementaryTypeName","src":"2008:6:7","typeDescriptions":{}}},"id":3585,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2008:31:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"}],"expression":{"id":3575,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"1985:8:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":3576,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1994:13:7","memberName":"reverseUint32","nodeType":"MemberAccess","referencedDeclaration":468,"src":"1985:22:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint32_$returns$_t_uint32_$","typeString":"function (uint32) pure returns (uint32)"}},"id":3586,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1985:55:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"functionReturnParameters":3574,"id":3587,"nodeType":"Return","src":"1978:62:7"}]},"documentation":{"id":3566,"nodeType":"StructuredDocumentation","src":"1513:357:7","text":"@notice Extract the timestamp of the header at the given position.\n @param headers Byte array containing the header of interest.\n @param at The start of the header in the array.\n @return The timestamp of the header.\n @dev Assumes that the specified position contains a valid header.\n Performs no validation whatsoever."},"implemented":true,"kind":"function","modifiers":[],"name":"extractTimestampAt","nameLocation":"1884:18:7","parameters":{"id":3571,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3568,"mutability":"mutable","name":"headers","nameLocation":"1916:7:7","nodeType":"VariableDeclaration","scope":3589,"src":"1903:20:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3567,"name":"bytes","nodeType":"ElementaryTypeName","src":"1903:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":3570,"mutability":"mutable","name":"at","nameLocation":"1933:2:7","nodeType":"VariableDeclaration","scope":3589,"src":"1925:10:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3569,"name":"uint256","nodeType":"ElementaryTypeName","src":"1925:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1902:34:7"},"returnParameters":{"id":3574,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3573,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":3589,"src":"1960:6:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":3572,"name":"uint32","nodeType":"ElementaryTypeName","src":"1960:6:7","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"1959:8:7"},"scope":3590,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"RelayUtils","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[3590],"name":"RelayUtils","nameLocation":"1465:10:7","scope":4466,"usedErrors":[]},{"id":4465,"nodeType":"ContractDefinition","src":"2129:21915:7","nodes":[{"id":3598,"nodeType":"UsingForDirective","src":"2179:25:7","nodes":[],"global":false,"libraryName":{"id":3596,"name":"BytesLib","nameLocations":["2185:8:7"],"nodeType":"IdentifierPath","referencedDeclaration":2561,"src":"2185:8:7"},"typeName":{"id":3597,"name":"bytes","nodeType":"ElementaryTypeName","src":"2198:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},{"id":3601,"nodeType":"UsingForDirective","src":"2209:25:7","nodes":[],"global":false,"libraryName":{"id":3599,"name":"BTCUtils","nameLocations":["2215:8:7"],"nodeType":"IdentifierPath","referencedDeclaration":2202,"src":"2215:8:7"},"typeName":{"id":3600,"name":"bytes","nodeType":"ElementaryTypeName","src":"2228:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},{"id":3604,"nodeType":"UsingForDirective","src":"2239:28:7","nodes":[],"global":false,"libraryName":{"id":3602,"name":"ValidateSPV","nameLocations":["2245:11:7"],"nodeType":"IdentifierPath","referencedDeclaration":2944,"src":"2245:11:7"},"typeName":{"id":3603,"name":"bytes","nodeType":"ElementaryTypeName","src":"2261:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},{"id":3607,"nodeType":"UsingForDirective","src":"2272:27:7","nodes":[],"global":false,"libraryName":{"id":3605,"name":"RelayUtils","nameLocations":["2278:10:7"],"nodeType":"IdentifierPath","referencedDeclaration":3590,"src":"2278:10:7"},"typeName":{"id":3606,"name":"bytes","nodeType":"ElementaryTypeName","src":"2293:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},{"id":3609,"nodeType":"VariableDeclaration","src":"2305:17:7","nodes":[],"constant":false,"functionSelector":"6defbf80","mutability":"mutable","name":"ready","nameLocation":"2317:5:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":3608,"name":"bool","nodeType":"ElementaryTypeName","src":"2305:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"public"},{"id":3611,"nodeType":"VariableDeclaration","src":"2446:33:7","nodes":[],"constant":false,"functionSelector":"95410d2b","mutability":"mutable","name":"authorizationRequired","nameLocation":"2458:21:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":3610,"name":"bool","nodeType":"ElementaryTypeName","src":"2446:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"public"},{"id":3613,"nodeType":"VariableDeclaration","src":"2758:25:7","nodes":[],"constant":false,"functionSelector":"f5619fda","mutability":"mutable","name":"proofLength","nameLocation":"2772:11:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3612,"name":"uint64","nodeType":"ElementaryTypeName","src":"2758:6:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"public"},{"id":3615,"nodeType":"VariableDeclaration","src":"3035:26:7","nodes":[],"constant":false,"functionSelector":"b70e6be6","mutability":"mutable","name":"genesisEpoch","nameLocation":"3049:12:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3614,"name":"uint64","nodeType":"ElementaryTypeName","src":"3035:6:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"public"},{"id":3617,"nodeType":"VariableDeclaration","src":"3350:26:7","nodes":[],"constant":false,"functionSelector":"76671808","mutability":"mutable","name":"currentEpoch","nameLocation":"3364:12:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3616,"name":"uint64","nodeType":"ElementaryTypeName","src":"3350:6:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"public"},{"id":3619,"nodeType":"VariableDeclaration","src":"3383:39:7","nodes":[],"constant":false,"mutability":"mutable","name":"currentEpochDifficulty","nameLocation":"3400:22:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3618,"name":"uint256","nodeType":"ElementaryTypeName","src":"3383:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"id":3621,"nodeType":"VariableDeclaration","src":"3428:36:7","nodes":[],"constant":false,"mutability":"mutable","name":"prevEpochDifficulty","nameLocation":"3445:19:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3620,"name":"uint256","nodeType":"ElementaryTypeName","src":"3428:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"id":3626,"nodeType":"VariableDeclaration","src":"3546:41:7","nodes":[],"constant":false,"mutability":"mutable","name":"epochs","nameLocation":"3581:6:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch)"},"typeName":{"id":3625,"keyType":{"id":3622,"name":"uint256","nodeType":"ElementaryTypeName","src":"3554:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"3546:25:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch)"},"valueType":{"id":3624,"nodeType":"UserDefinedTypeName","pathNode":{"id":3623,"name":"Epoch","nameLocations":["3565:5:7"],"nodeType":"IdentifierPath","referencedDeclaration":3498,"src":"3565:5:7"},"referencedDeclaration":3498,"src":"3565:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage_ptr","typeString":"struct Epoch"}}},"visibility":"internal"},{"id":3630,"nodeType":"VariableDeclaration","src":"3594:44:7","nodes":[],"constant":false,"functionSelector":"fe9fbb80","mutability":"mutable","name":"isAuthorized","nameLocation":"3626:12:7","scope":4465,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"typeName":{"id":3629,"keyType":{"id":3627,"name":"address","nodeType":"ElementaryTypeName","src":"3602:7:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"3594:24:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"},"valueType":{"id":3628,"name":"bool","nodeType":"ElementaryTypeName","src":"3613:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"public"},{"id":3639,"nodeType":"ModifierDefinition","src":"3645:95:7","nodes":[],"body":{"id":3638,"nodeType":"Block","src":"3668:72:7","nodes":[],"statements":[{"expression":{"arguments":[{"id":3633,"name":"ready","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3609,"src":"3686:5:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52656c6179206973206e6f7420726561647920666f7220757365","id":3634,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"3693:28:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_d8247dfcbf60188e8887092c527052b259f01eb831bb77d9c8523482c0d49044","typeString":"literal_string \"Relay is not ready for use\""},"value":"Relay is not ready for use"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_d8247dfcbf60188e8887092c527052b259f01eb831bb77d9c8523482c0d49044","typeString":"literal_string \"Relay is not ready for use\""}],"id":3632,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"3678:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3635,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3678:44:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3636,"nodeType":"ExpressionStatement","src":"3678:44:7"},{"id":3637,"nodeType":"PlaceholderStatement","src":"3732:1:7"}]},"name":"relayActive","nameLocation":"3654:11:7","parameters":{"id":3631,"nodeType":"ParameterList","parameters":[],"src":"3665:2:7"},"virtual":false,"visibility":"internal"},{"id":3748,"nodeType":"FunctionDefinition","src":"4390:997:7","nodes":[],"body":{"id":3747,"nodeType":"Block","src":"4526:861:7","nodes":[],"statements":[{"expression":{"arguments":[{"id":3653,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"4544:6:7","subExpression":{"id":3652,"name":"ready","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3609,"src":"4545:5:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"47656e6573697320616c726561647920706572666f726d6564","id":3654,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4552:27:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_094a9f6730421df4da21c52394e62674c93ba040fed81196cdeae027fabe06e4","typeString":"literal_string \"Genesis already performed\""},"value":"Genesis already performed"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_094a9f6730421df4da21c52394e62674c93ba040fed81196cdeae027fabe06e4","typeString":"literal_string \"Genesis already performed\""}],"id":3651,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4536:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3655,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4536:44:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3656,"nodeType":"ExpressionStatement","src":"4536:44:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3661,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":3658,"name":"genesisHeader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3642,"src":"4599:13:7","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":3659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4613:6:7","memberName":"length","nodeType":"MemberAccess","src":"4599:20:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"3830","id":3660,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4623:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"4599:26:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c69642067656e6573697320686561646572206c656e677468","id":3662,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4627:31:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_68a99183e9b04a95395f0a5625a89abc0940fcc9d55ee2b9a838c7bbe9f95569","typeString":"literal_string \"Invalid genesis header length\""},"value":"Invalid genesis header length"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_68a99183e9b04a95395f0a5625a89abc0940fcc9d55ee2b9a838c7bbe9f95569","typeString":"literal_string \"Invalid genesis header length\""}],"id":3657,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4591:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3663,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4591:68:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3664,"nodeType":"ExpressionStatement","src":"4591:68:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3670,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3668,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3666,"name":"genesisHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3644,"src":"4678:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"hexValue":"32303136","id":3667,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4694:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2016_by_1","typeString":"int_const 2016"},"value":"2016"},"src":"4678:20:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":3669,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4702:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4678:25:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c696420686569676874206f662072656c61792067656e6573697320626c6f636b","id":3671,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4705:39:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_c91f2e43a8b25be511ffe12505d195c2364a484706eb139b9c0fbc4fbb63741f","typeString":"literal_string \"Invalid height of relay genesis block\""},"value":"Invalid height of relay genesis block"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_c91f2e43a8b25be511ffe12505d195c2364a484706eb139b9c0fbc4fbb63741f","typeString":"literal_string \"Invalid height of relay genesis block\""}],"id":3665,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4670:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3672,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4670:75:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3673,"nodeType":"ExpressionStatement","src":"4670:75:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3675,"name":"genesisProofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3646,"src":"4764:18:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"32303136","id":3676,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4785:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2016_by_1","typeString":"int_const 2016"},"value":"2016"},"src":"4764:25:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"50726f6f66206c656e67746820657863657373697665","id":3678,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4791:24:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_05515ee88d9c63168d1601ff6f4e9da19f2565c7c3d4cb8c556a10a038cc77ed","typeString":"literal_string \"Proof length excessive\""},"value":"Proof length excessive"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_05515ee88d9c63168d1601ff6f4e9da19f2565c7c3d4cb8c556a10a038cc77ed","typeString":"literal_string \"Proof length excessive\""}],"id":3674,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4756:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3679,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4756:60:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3680,"nodeType":"ExpressionStatement","src":"4756:60:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3684,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3682,"name":"genesisProofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3646,"src":"4834:18:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":3683,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4855:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4834:22:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"50726f6f66206c656e677468206d6179206e6f74206265207a65726f","id":3685,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"4858:30:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_b7c05c3b9e1c3e3fc0ad54debd256c367706d5ce869d1fd515d0181fd732b4a1","typeString":"literal_string \"Proof length may not be zero\""},"value":"Proof length may not be zero"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b7c05c3b9e1c3e3fc0ad54debd256c367706d5ce869d1fd515d0181fd732b4a1","typeString":"literal_string \"Proof length may not be zero\""}],"id":3681,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4826:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3686,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4826:63:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3687,"nodeType":"ExpressionStatement","src":"4826:63:7"},{"expression":{"id":3695,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3688,"name":"genesisEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3615,"src":"4900:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3691,"name":"genesisHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3644,"src":"4922:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32303136","id":3692,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4938:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2016_by_1","typeString":"int_const 2016"},"value":"2016"},"src":"4922:20:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3690,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4915:6:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint64_$","typeString":"type(uint64)"},"typeName":{"id":3689,"name":"uint64","nodeType":"ElementaryTypeName","src":"4915:6:7","typeDescriptions":{}}},"id":3694,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4915:28:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4900:43:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":3696,"nodeType":"ExpressionStatement","src":"4900:43:7"},{"expression":{"id":3699,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3697,"name":"currentEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3617,"src":"4953:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":3698,"name":"genesisEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3615,"src":"4968:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"4953:27:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":3700,"nodeType":"ExpressionStatement","src":"4953:27:7"},{"assignments":[3702],"declarations":[{"constant":false,"id":3702,"mutability":"mutable","name":"genesisTarget","nameLocation":"4998:13:7","nodeType":"VariableDeclaration","scope":3747,"src":"4990:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3701,"name":"uint256","nodeType":"ElementaryTypeName","src":"4990:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3706,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3703,"name":"genesisHeader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3642,"src":"5014:13:7","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":3704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5028:13:7","memberName":"extractTarget","nodeType":"MemberAccess","referencedDeclaration":1784,"src":"5014:27:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) pure returns (uint256)"}},"id":3705,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5014:29:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4990:53:7"},{"assignments":[3708],"declarations":[{"constant":false,"id":3708,"mutability":"mutable","name":"genesisTimestamp","nameLocation":"5061:16:7","nodeType":"VariableDeclaration","scope":3747,"src":"5053:24:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3707,"name":"uint256","nodeType":"ElementaryTypeName","src":"5053:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3712,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3709,"name":"genesisHeader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3642,"src":"5080:13:7","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}},"id":3710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5094:16:7","memberName":"extractTimestamp","nodeType":"MemberAccess","referencedDeclaration":1918,"src":"5080:30:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) pure returns (uint32)"}},"id":3711,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5080:32:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"5053:59:7"},{"expression":{"id":3726,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":3713,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3626,"src":"5122:6:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch storage ref)"}},"id":3715,"indexExpression":{"id":3714,"name":"genesisEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3615,"src":"5129:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"5122:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":3719,"name":"genesisTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3708,"src":"5158:16:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3718,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5151:6:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":3717,"name":"uint32","nodeType":"ElementaryTypeName","src":"5151:6:7","typeDescriptions":{}}},"id":3720,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5151:24:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"arguments":[{"id":3723,"name":"genesisTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3702,"src":"5185:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3722,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5177:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint224_$","typeString":"type(uint224)"},"typeName":{"id":3721,"name":"uint224","nodeType":"ElementaryTypeName","src":"5177:7:7","typeDescriptions":{}}},"id":3724,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5177:22:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint224","typeString":"uint224"}],"id":3716,"name":"Epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3498,"src":"5145:5:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Epoch_$3498_storage_ptr_$","typeString":"type(struct Epoch storage pointer)"}},"id":3725,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5145:55:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"src":"5122:78:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"id":3727,"nodeType":"ExpressionStatement","src":"5122:78:7"},{"expression":{"id":3730,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3728,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"5210:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":3729,"name":"genesisProofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3646,"src":"5224:18:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"5210:32:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":3731,"nodeType":"ExpressionStatement","src":"5210:32:7"},{"expression":{"id":3737,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3732,"name":"currentEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3619,"src":"5252:22:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":3735,"name":"genesisTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3702,"src":"5306:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3733,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"5277:8:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":3734,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5286:19:7","memberName":"calculateDifficulty","nodeType":"MemberAccess","referencedDeclaration":1854,"src":"5277:28:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":3736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5277:43:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5252:68:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3738,"nodeType":"ExpressionStatement","src":"5252:68:7"},{"expression":{"id":3741,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3739,"name":"ready","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3609,"src":"5330:5:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":3740,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5338:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"5330:12:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3742,"nodeType":"ExpressionStatement","src":"5330:12:7"},{"eventCall":{"arguments":[{"id":3744,"name":"genesisHeight","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3644,"src":"5366:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3743,"name":"Genesis","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3504,"src":"5358:7:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":3745,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5358:22:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3746,"nodeType":"EmitStatement","src":"5353:27:7"}]},"documentation":{"id":3640,"nodeType":"StructuredDocumentation","src":"3746:639:7","text":"@notice Establish a starting point for the relay by providing the\n target, timestamp and blockheight of the first block of the relay\n genesis epoch.\n @param genesisHeader The first block header of the genesis epoch.\n @param genesisHeight The block number of the first block of the epoch.\n @param genesisProofLength The number of blocks required to accept a\n proof.\n @dev If the relay is used by querying the current and previous epoch\n difficulty, at least one retarget needs to be provided after genesis;\n otherwise the prevEpochDifficulty will be uninitialised and zero."},"functionSelector":"4ca49f51","implemented":true,"kind":"function","modifiers":[{"id":3649,"kind":"modifierInvocation","modifierName":{"id":3648,"name":"onlyOwner","nameLocations":["4512:9:7"],"nodeType":"IdentifierPath","referencedDeclaration":4552,"src":"4512:9:7"},"nodeType":"ModifierInvocation","src":"4512:9:7"}],"name":"genesis","nameLocation":"4399:7:7","parameters":{"id":3647,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3642,"mutability":"mutable","name":"genesisHeader","nameLocation":"4422:13:7","nodeType":"VariableDeclaration","scope":3748,"src":"4407:28:7","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":3641,"name":"bytes","nodeType":"ElementaryTypeName","src":"4407:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":3644,"mutability":"mutable","name":"genesisHeight","nameLocation":"4445:13:7","nodeType":"VariableDeclaration","scope":3748,"src":"4437:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3643,"name":"uint256","nodeType":"ElementaryTypeName","src":"4437:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":3646,"mutability":"mutable","name":"genesisProofLength","nameLocation":"4467:18:7","nodeType":"VariableDeclaration","scope":3748,"src":"4460:25:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3645,"name":"uint64","nodeType":"ElementaryTypeName","src":"4460:6:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"4406:80:7"},"returnParameters":{"id":3650,"nodeType":"ParameterList","parameters":[],"src":"4526:0:7"},"scope":4465,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":3788,"nodeType":"FunctionDefinition","src":"5693:351:7","nodes":[],"body":{"id":3787,"nodeType":"Block","src":"5766:278:7","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3761,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3759,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3751,"src":"5784:9:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"32303136","id":3760,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5796:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2016_by_1","typeString":"int_const 2016"},"value":"2016"},"src":"5784:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"50726f6f66206c656e67746820657863657373697665","id":3762,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5802:24:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_05515ee88d9c63168d1601ff6f4e9da19f2565c7c3d4cb8c556a10a038cc77ed","typeString":"literal_string \"Proof length excessive\""},"value":"Proof length excessive"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_05515ee88d9c63168d1601ff6f4e9da19f2565c7c3d4cb8c556a10a038cc77ed","typeString":"literal_string \"Proof length excessive\""}],"id":3758,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5776:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3763,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5776:51:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3764,"nodeType":"ExpressionStatement","src":"5776:51:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3768,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3766,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3751,"src":"5845:9:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":3767,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5857:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5845:13:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"50726f6f66206c656e677468206d6179206e6f74206265207a65726f","id":3769,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5860:30:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_b7c05c3b9e1c3e3fc0ad54debd256c367706d5ce869d1fd515d0181fd732b4a1","typeString":"literal_string \"Proof length may not be zero\""},"value":"Proof length may not be zero"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b7c05c3b9e1c3e3fc0ad54debd256c367706d5ce869d1fd515d0181fd732b4a1","typeString":"literal_string \"Proof length may not be zero\""}],"id":3765,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5837:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5837:54:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3771,"nodeType":"ExpressionStatement","src":"5837:54:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3775,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3773,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3751,"src":"5909:9:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":3774,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"5922:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"5909:24:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"50726f6f66206c656e67746820756e6368616e676564","id":3776,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"5935:24:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_e34b16849ee77a79fe49f60389b689773d9154b562efa4284d1ee84e0c0e76eb","typeString":"literal_string \"Proof length unchanged\""},"value":"Proof length unchanged"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e34b16849ee77a79fe49f60389b689773d9154b562efa4284d1ee84e0c0e76eb","typeString":"literal_string \"Proof length unchanged\""}],"id":3772,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5901:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3777,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5901:59:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3778,"nodeType":"ExpressionStatement","src":"5901:59:7"},{"expression":{"id":3781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3779,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"5970:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":3780,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3751,"src":"5984:9:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"5970:23:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":3782,"nodeType":"ExpressionStatement","src":"5970:23:7"},{"eventCall":{"arguments":[{"id":3784,"name":"newLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3751,"src":"6027:9:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"id":3783,"name":"ProofLengthChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3514,"src":"6008:18:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$returns$__$","typeString":"function (uint256)"}},"id":3785,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6008:29:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3786,"nodeType":"EmitStatement","src":"6003:34:7"}]},"documentation":{"id":3749,"nodeType":"StructuredDocumentation","src":"5393:295:7","text":"@notice Set the number of blocks required to accept a header chain.\n @param newLength The required number of blocks. Must be less than 2016.\n @dev For production, a high number (e.g. 20-50) is recommended.\n Small numbers are accepted but should only be used for testing."},"functionSelector":"19c9aa32","implemented":true,"kind":"function","modifiers":[{"id":3754,"kind":"modifierInvocation","modifierName":{"id":3753,"name":"relayActive","nameLocations":["5744:11:7"],"nodeType":"IdentifierPath","referencedDeclaration":3639,"src":"5744:11:7"},"nodeType":"ModifierInvocation","src":"5744:11:7"},{"id":3756,"kind":"modifierInvocation","modifierName":{"id":3755,"name":"onlyOwner","nameLocations":["5756:9:7"],"nodeType":"IdentifierPath","referencedDeclaration":4552,"src":"5756:9:7"},"nodeType":"ModifierInvocation","src":"5756:9:7"}],"name":"setProofLength","nameLocation":"5702:14:7","parameters":{"id":3752,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3751,"mutability":"mutable","name":"newLength","nameLocation":"5724:9:7","nodeType":"VariableDeclaration","scope":3788,"src":"5717:16:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3750,"name":"uint64","nodeType":"ElementaryTypeName","src":"5717:6:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"5716:18:7"},"returnParameters":{"id":3757,"nodeType":"ParameterList","parameters":[],"src":"5766:0:7"},"scope":4465,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":3805,"nodeType":"FunctionDefinition","src":"6238:165:7","nodes":[],"body":{"id":3804,"nodeType":"Block","src":"6302:101:7","nodes":[],"statements":[{"expression":{"id":3798,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3796,"name":"authorizationRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3611,"src":"6312:21:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":3797,"name":"status","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3791,"src":"6336:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"6312:30:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3799,"nodeType":"ExpressionStatement","src":"6312:30:7"},{"eventCall":{"arguments":[{"id":3801,"name":"status","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3791,"src":"6389:6:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":3800,"name":"AuthorizationRequirementChanged","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3518,"src":"6357:31:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_bool_$returns$__$","typeString":"function (bool)"}},"id":3802,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6357:39:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3803,"nodeType":"EmitStatement","src":"6352:44:7"}]},"documentation":{"id":3789,"nodeType":"StructuredDocumentation","src":"6050:183:7","text":"@notice Set whether the relay requires retarget submitters to be\n pre-authorised by governance.\n @param status True if authorisation is to be required, false if not."},"functionSelector":"eb8695ef","implemented":true,"kind":"function","modifiers":[{"id":3794,"kind":"modifierInvocation","modifierName":{"id":3793,"name":"onlyOwner","nameLocations":["6292:9:7"],"nodeType":"IdentifierPath","referencedDeclaration":4552,"src":"6292:9:7"},"nodeType":"ModifierInvocation","src":"6292:9:7"}],"name":"setAuthorizationStatus","nameLocation":"6247:22:7","parameters":{"id":3792,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3791,"mutability":"mutable","name":"status","nameLocation":"6275:6:7","nodeType":"VariableDeclaration","scope":3805,"src":"6270:11:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":3790,"name":"bool","nodeType":"ElementaryTypeName","src":"6270:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"6269:13:7"},"returnParameters":{"id":3795,"nodeType":"ParameterList","parameters":[],"src":"6302:0:7"},"scope":4465,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":3824,"nodeType":"FunctionDefinition","src":"6535:149:7","nodes":[],"body":{"id":3823,"nodeType":"Block","src":"6592:92:7","nodes":[],"statements":[{"expression":{"id":3817,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":3813,"name":"isAuthorized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3630,"src":"6602:12:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":3815,"indexExpression":{"id":3814,"name":"submitter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3808,"src":"6615:9:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6602:23:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"74727565","id":3816,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6628:4:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"},"src":"6602:30:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3818,"nodeType":"ExpressionStatement","src":"6602:30:7"},{"eventCall":{"arguments":[{"id":3820,"name":"submitter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3808,"src":"6667:9:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":3819,"name":"SubmitterAuthorized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3522,"src":"6647:19:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":3821,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6647:30:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3822,"nodeType":"EmitStatement","src":"6642:35:7"}]},"documentation":{"id":3806,"nodeType":"StructuredDocumentation","src":"6409:121:7","text":"@notice Authorise the given address to submit retarget proofs.\n @param submitter The address to be authorised."},"functionSelector":"b6a5d7de","implemented":true,"kind":"function","modifiers":[{"id":3811,"kind":"modifierInvocation","modifierName":{"id":3810,"name":"onlyOwner","nameLocations":["6582:9:7"],"nodeType":"IdentifierPath","referencedDeclaration":4552,"src":"6582:9:7"},"nodeType":"ModifierInvocation","src":"6582:9:7"}],"name":"authorize","nameLocation":"6544:9:7","parameters":{"id":3809,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3808,"mutability":"mutable","name":"submitter","nameLocation":"6562:9:7","nodeType":"VariableDeclaration","scope":3824,"src":"6554:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":3807,"name":"address","nodeType":"ElementaryTypeName","src":"6554:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6553:19:7"},"returnParameters":{"id":3812,"nodeType":"ParameterList","parameters":[],"src":"6592:0:7"},"scope":4465,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":3843,"nodeType":"FunctionDefinition","src":"6819:154:7","nodes":[],"body":{"id":3842,"nodeType":"Block","src":"6878:95:7","nodes":[],"statements":[{"expression":{"id":3836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":3832,"name":"isAuthorized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3630,"src":"6888:12:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":3834,"indexExpression":{"id":3833,"name":"submitter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3827,"src":"6901:9:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"6888:23:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"66616c7365","id":3835,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6914:5:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"},"src":"6888:31:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3837,"nodeType":"ExpressionStatement","src":"6888:31:7"},{"eventCall":{"arguments":[{"id":3839,"name":"submitter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3827,"src":"6956:9:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":3838,"name":"SubmitterDeauthorized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3526,"src":"6934:21:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":3840,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6934:32:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3841,"nodeType":"EmitStatement","src":"6929:37:7"}]},"documentation":{"id":3825,"nodeType":"StructuredDocumentation","src":"6690:124:7","text":"@notice Rescind the authorisation of the submitter to retarget.\n @param submitter The address to be deauthorised."},"functionSelector":"27c97fa5","implemented":true,"kind":"function","modifiers":[{"id":3830,"kind":"modifierInvocation","modifierName":{"id":3829,"name":"onlyOwner","nameLocations":["6868:9:7"],"nodeType":"IdentifierPath","referencedDeclaration":4552,"src":"6868:9:7"},"nodeType":"ModifierInvocation","src":"6868:9:7"}],"name":"deauthorize","nameLocation":"6828:11:7","parameters":{"id":3828,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3827,"mutability":"mutable","name":"submitter","nameLocation":"6848:9:7","nodeType":"VariableDeclaration","scope":3843,"src":"6840:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":3826,"name":"address","nodeType":"ElementaryTypeName","src":"6840:7:7","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"6839:19:7"},"returnParameters":{"id":3831,"nodeType":"ParameterList","parameters":[],"src":"6878:0:7"},"scope":4465,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4075,"nodeType":"FunctionDefinition","src":"8598:4357:7","nodes":[],"body":{"id":4074,"nodeType":"Block","src":"8659:4296:7","nodes":[],"statements":[{"condition":{"id":3851,"name":"authorizationRequired","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3611,"src":"8673:21:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3861,"nodeType":"IfStatement","src":"8669:111:7","trueBody":{"id":3860,"nodeType":"Block","src":"8696:84:7","statements":[{"expression":{"arguments":[{"baseExpression":{"id":3853,"name":"isAuthorized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3630,"src":"8718:12:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_bool_$","typeString":"mapping(address => bool)"}},"id":3856,"indexExpression":{"expression":{"id":3854,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"8731:3:7","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":3855,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8735:6:7","memberName":"sender","nodeType":"MemberAccess","src":"8731:10:7","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8718:24:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5375626d697474657220756e617574686f72697a6564","id":3857,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8744:24:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_91a2bcf41e898cf03fa1800b9db20089ecc108530a9aaf74cb414e9d5459d3f0","typeString":"literal_string \"Submitter unauthorized\""},"value":"Submitter unauthorized"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_91a2bcf41e898cf03fa1800b9db20089ecc108530a9aaf74cb414e9d5459d3f0","typeString":"literal_string \"Submitter unauthorized\""}],"id":3852,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"8710:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3858,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8710:59:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3859,"nodeType":"ExpressionStatement","src":"8710:59:7"}]}},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3871,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":3863,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3846,"src":"8884:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3864,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8892:6:7","memberName":"length","nodeType":"MemberAccess","src":"8884:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3869,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3867,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3865,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"8903:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"32","id":3866,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8917:1:7","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"8903:15:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3830","id":3868,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8921:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"8903:20:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"id":3870,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"8902:22:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"8884:40:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c696420686561646572206c656e677468","id":3872,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8938:23:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_62784c5b4854856e20fdf3da2ed017d8d7ad91e96ee28ef17acb0683953b91b7","typeString":"literal_string \"Invalid header length\""},"value":"Invalid header length"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_62784c5b4854856e20fdf3da2ed017d8d7ad91e96ee28ef17acb0683953b91b7","typeString":"literal_string \"Invalid header length\""}],"id":3862,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"8790:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3873,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8790:181:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3874,"nodeType":"ExpressionStatement","src":"8790:181:7"},{"assignments":[3877],"declarations":[{"constant":false,"id":3877,"mutability":"mutable","name":"latest","nameLocation":"8996:6:7","nodeType":"VariableDeclaration","scope":4074,"src":"8982:20:7","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage_ptr","typeString":"struct Epoch"},"typeName":{"id":3876,"nodeType":"UserDefinedTypeName","pathNode":{"id":3875,"name":"Epoch","nameLocations":["8982:5:7"],"nodeType":"IdentifierPath","referencedDeclaration":3498,"src":"8982:5:7"},"referencedDeclaration":3498,"src":"8982:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage_ptr","typeString":"struct Epoch"}},"visibility":"internal"}],"id":3881,"initialValue":{"baseExpression":{"id":3878,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3626,"src":"9005:6:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch storage ref)"}},"id":3880,"indexExpression":{"id":3879,"name":"currentEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3617,"src":"9012:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9005:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"nodeType":"VariableDeclarationStatement","src":"8982:43:7"},{"assignments":[3883],"declarations":[{"constant":false,"id":3883,"mutability":"mutable","name":"oldTarget","nameLocation":"9044:9:7","nodeType":"VariableDeclaration","scope":4074,"src":"9036:17:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3882,"name":"uint256","nodeType":"ElementaryTypeName","src":"9036:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3886,"initialValue":{"expression":{"id":3884,"name":"latest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3877,"src":"9056:6:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage_ptr","typeString":"struct Epoch storage pointer"}},"id":3885,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9063:6:7","memberName":"target","nodeType":"MemberAccess","referencedDeclaration":3497,"src":"9056:13:7","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}},"nodeType":"VariableDeclarationStatement","src":"9036:33:7"},{"assignments":[3888],"declarations":[{"constant":false,"id":3888,"mutability":"mutable","name":"previousHeaderDigest","nameLocation":"9088:20:7","nodeType":"VariableDeclaration","scope":4074,"src":"9080:28:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3887,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9080:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":3893,"initialValue":{"arguments":[{"hexValue":"30","id":3891,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9119:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":3890,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9111:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":3889,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9111:7:7","typeDescriptions":{}}},"id":3892,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9111:10:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"9080:41:7"},{"body":{"id":3927,"nodeType":"Block","src":"9204:282:7","statements":[{"assignments":[3905,3907],"declarations":[{"constant":false,"id":3905,"mutability":"mutable","name":"currentDigest","nameLocation":"9227:13:7","nodeType":"VariableDeclaration","scope":3927,"src":"9219:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3904,"name":"bytes32","nodeType":"ElementaryTypeName","src":"9219:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":3907,"mutability":"mutable","name":"currentHeaderTarget","nameLocation":"9250:19:7","nodeType":"VariableDeclaration","scope":3927,"src":"9242:27:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3906,"name":"uint256","nodeType":"ElementaryTypeName","src":"9242:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3915,"initialValue":{"arguments":[{"id":3909,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3846,"src":"9288:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3912,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3910,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3895,"src":"9297:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3830","id":3911,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9301:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"9297:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":3913,"name":"previousHeaderDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3888,"src":"9305:20:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3908,"name":"validateHeader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4464,"src":"9273:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes_memory_ptr_$_t_uint256_$_t_bytes32_$returns$_t_bytes32_$_t_uint256_$","typeString":"function (bytes memory,uint256,bytes32) view returns (bytes32,uint256)"}},"id":3914,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9273:53:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_uint256_$","typeString":"tuple(bytes32,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"9218:108:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3919,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3917,"name":"currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3907,"src":"9349:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":3918,"name":"oldTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3883,"src":"9372:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9349:32:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c69642074617267657420696e207072652d72657461726765742068656164657273","id":3920,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9383:40:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_87914104b39bbbd09dc6b7b371bf454b6e748ab8aaea444a4cff43043b078001","typeString":"literal_string \"Invalid target in pre-retarget headers\""},"value":"Invalid target in pre-retarget headers"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_87914104b39bbbd09dc6b7b371bf454b6e748ab8aaea444a4cff43043b078001","typeString":"literal_string \"Invalid target in pre-retarget headers\""}],"id":3916,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"9341:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3921,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9341:83:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3922,"nodeType":"ExpressionStatement","src":"9341:83:7"},{"expression":{"id":3925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3923,"name":"previousHeaderDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3888,"src":"9439:20:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":3924,"name":"currentDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3905,"src":"9462:13:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"9439:36:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":3926,"nodeType":"ExpressionStatement","src":"9439:36:7"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3900,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3898,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3895,"src":"9182:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":3899,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"9186:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"9182:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3928,"initializationExpression":{"assignments":[3895],"declarations":[{"constant":false,"id":3895,"mutability":"mutable","name":"i","nameLocation":"9175:1:7","nodeType":"VariableDeclaration","scope":3928,"src":"9167:9:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3894,"name":"uint256","nodeType":"ElementaryTypeName","src":"9167:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3897,"initialValue":{"hexValue":"30","id":3896,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9179:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9167:13:7"},"loopExpression":{"expression":{"id":3902,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"9199:3:7","subExpression":{"id":3901,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3895,"src":"9199:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3903,"nodeType":"ExpressionStatement","src":"9199:3:7"},"nodeType":"ForStatement","src":"9162:324:7"},{"assignments":[3930],"declarations":[{"constant":false,"id":3930,"mutability":"mutable","name":"epochEndTimestamp","nameLocation":"9547:17:7","nodeType":"VariableDeclaration","scope":4074,"src":"9539:25:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3929,"name":"uint256","nodeType":"ElementaryTypeName","src":"9539:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3940,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3938,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3935,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3933,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"9595:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":3934,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9609:1:7","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"9595:15:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"id":3936,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9594:17:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3830","id":3937,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9614:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"9594:22:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"expression":{"id":3931,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3846,"src":"9567:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9575:18:7","memberName":"extractTimestampAt","nodeType":"MemberAccess","referencedDeclaration":3589,"src":"9567:26:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (uint32)"}},"id":3939,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9567:50:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"9539:78:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3945,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3942,"name":"epochEndTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3930,"src":"10254:17:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":3943,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"10274:5:7","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":3944,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10280:9:7","memberName":"timestamp","nodeType":"MemberAccess","src":"10274:15:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10254:35:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"45706f63682063616e6e6f7420656e6420696e2074686520667574757265","id":3946,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10303:32:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_a3b2d59a615aa91d89e71748d1acad9ed82774c8bd8072c3a05a24e0428d45c1","typeString":"literal_string \"Epoch cannot end in the future\""},"value":"Epoch cannot end in the future"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_a3b2d59a615aa91d89e71748d1acad9ed82774c8bd8072c3a05a24e0428d45c1","typeString":"literal_string \"Epoch cannot end in the future\""}],"id":3941,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"10172:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3947,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10172:173:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3948,"nodeType":"ExpressionStatement","src":"10172:173:7"},{"assignments":[3950],"declarations":[{"constant":false,"id":3950,"mutability":"mutable","name":"expectedTarget","nameLocation":"10417:14:7","nodeType":"VariableDeclaration","scope":4074,"src":"10409:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3949,"name":"uint256","nodeType":"ElementaryTypeName","src":"10409:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3958,"initialValue":{"arguments":[{"id":3953,"name":"oldTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3883,"src":"10461:9:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":3954,"name":"latest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3877,"src":"10472:6:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage_ptr","typeString":"struct Epoch storage pointer"}},"id":3955,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10479:9:7","memberName":"timestamp","nodeType":"MemberAccess","referencedDeclaration":3495,"src":"10472:16:7","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"id":3956,"name":"epochEndTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3930,"src":"10490:17:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3951,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"10434:8:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":3952,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10443:17:7","memberName":"retargetAlgorithm","nodeType":"MemberAccess","referencedDeclaration":2201,"src":"10434:26:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":3957,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10434:74:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10409:99:7"},{"assignments":[3960],"declarations":[{"constant":false,"id":3960,"mutability":"mutable","name":"minedTarget","nameLocation":"10580:11:7","nodeType":"VariableDeclaration","scope":4074,"src":"10572:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3959,"name":"uint256","nodeType":"ElementaryTypeName","src":"10572:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3962,"initialValue":{"hexValue":"30","id":3961,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10594:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"10572:23:7"},{"assignments":[3964],"declarations":[{"constant":false,"id":3964,"mutability":"mutable","name":"epochStartTimestamp","nameLocation":"10614:19:7","nodeType":"VariableDeclaration","scope":4074,"src":"10606:27:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3963,"name":"uint256","nodeType":"ElementaryTypeName","src":"10606:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3971,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3969,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3967,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"10663:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3830","id":3968,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10677:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"10663:16:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint64","typeString":"uint64"}],"expression":{"id":3965,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3846,"src":"10636:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3966,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10644:18:7","memberName":"extractTimestampAt","nodeType":"MemberAccess","referencedDeclaration":3589,"src":"10636:26:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (uint32)"}},"id":3970,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10636:44:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"10606:74:7"},{"body":{"id":4027,"nodeType":"Block","src":"10777:1760:7","statements":[{"assignments":[3985,3987],"declarations":[{"constant":false,"id":3985,"mutability":"mutable","name":"_currentDigest","nameLocation":"10800:14:7","nodeType":"VariableDeclaration","scope":4027,"src":"10792:22:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3984,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10792:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":3987,"mutability":"mutable","name":"_currentHeaderTarget","nameLocation":"10824:20:7","nodeType":"VariableDeclaration","scope":4027,"src":"10816:28:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3986,"name":"uint256","nodeType":"ElementaryTypeName","src":"10816:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3995,"initialValue":{"arguments":[{"id":3989,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3846,"src":"10879:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3990,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3973,"src":"10888:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3830","id":3991,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10892:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"10888:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":3993,"name":"previousHeaderDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3888,"src":"10896:20:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3988,"name":"validateHeader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4464,"src":"10864:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes_memory_ptr_$_t_uint256_$_t_bytes32_$returns$_t_bytes32_$_t_uint256_$","typeString":"function (bytes memory,uint256,bytes32) view returns (bytes32,uint256)"}},"id":3994,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10864:53:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_uint256_$","typeString":"tuple(bytes32,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"10791:126:7"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3996,"name":"minedTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3960,"src":"10936:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":3997,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10951:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10936:16:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":4021,"nodeType":"Block","src":"12272:203:7","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4017,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4015,"name":"_currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3987,"src":"12381:20:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":4016,"name":"minedTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3960,"src":"12405:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12381:35:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"556e657870656374656420746172676574206368616e6765206166746572207265746172676574","id":4018,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12418:41:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_27bea651e3d57dfbfbccd6a0af05a87b259f7ca4e0c78596e27b2cdff6821020","typeString":"literal_string \"Unexpected target change after retarget\""},"value":"Unexpected target change after retarget"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_27bea651e3d57dfbfbccd6a0af05a87b259f7ca4e0c78596e27b2cdff6821020","typeString":"literal_string \"Unexpected target change after retarget\""}],"id":4014,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"12373:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4019,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12373:87:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4020,"nodeType":"ExpressionStatement","src":"12373:87:7"}]},"id":4022,"nodeType":"IfStatement","src":"10932:1543:7","trueBody":{"id":4013,"nodeType":"Block","src":"10954:1312:7","statements":[{"expression":{"id":4001,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3999,"name":"minedTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3960,"src":"11049:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4000,"name":"_currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3987,"src":"11063:20:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"11049:34:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4002,"nodeType":"ExpressionStatement","src":"11049:34:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4009,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4004,"name":"_currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3987,"src":"12119:20:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4007,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4005,"name":"expectedTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3950,"src":"12144:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"id":4006,"name":"_currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3987,"src":"12161:20:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12144:37:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":4008,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"12143:39:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12119:63:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c69642074617267657420696e206e65772065706f6368","id":4010,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"12204:29:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_08e312de54e41162c425b8157360fa1a3bd038a9fc5cf8a9885266603a48164d","typeString":"literal_string \"Invalid target in new epoch\""},"value":"Invalid target in new epoch"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_08e312de54e41162c425b8157360fa1a3bd038a9fc5cf8a9885266603a48164d","typeString":"literal_string \"Invalid target in new epoch\""}],"id":4003,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"11101:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11101:1150:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4012,"nodeType":"ExpressionStatement","src":"11101:1150:7"}]}},{"expression":{"id":4025,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4023,"name":"previousHeaderDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3888,"src":"12489:20:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4024,"name":"_currentDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3985,"src":"12512:14:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"12489:37:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":4026,"nodeType":"ExpressionStatement","src":"12489:37:7"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3980,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3976,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3973,"src":"10751:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":3979,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3977,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"10755:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"32","id":3978,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10769:1:7","typeDescriptions":{"typeIdentifier":"t_rational_2_by_1","typeString":"int_const 2"},"value":"2"},"src":"10755:15:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"10751:19:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":4028,"initializationExpression":{"assignments":[3973],"declarations":[{"constant":false,"id":3973,"mutability":"mutable","name":"j","nameLocation":"10734:1:7","nodeType":"VariableDeclaration","scope":4028,"src":"10726:9:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3972,"name":"uint256","nodeType":"ElementaryTypeName","src":"10726:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3975,"initialValue":{"id":3974,"name":"proofLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3613,"src":"10738:11:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"VariableDeclarationStatement","src":"10726:23:7"},"loopExpression":{"expression":{"id":3982,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"10772:3:7","subExpression":{"id":3981,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3973,"src":"10772:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3983,"nodeType":"ExpressionStatement","src":"10772:3:7"},"nodeType":"ForStatement","src":"10721:1816:7"},{"expression":{"id":4033,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4029,"name":"currentEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3617,"src":"12547:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":4032,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4030,"name":"currentEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3617,"src":"12562:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"31","id":4031,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12577:1:7","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"12562:16:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"12547:31:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"id":4034,"nodeType":"ExpressionStatement","src":"12547:31:7"},{"expression":{"id":4048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":4035,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3626,"src":"12589:6:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch storage ref)"}},"id":4037,"indexExpression":{"id":4036,"name":"currentEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3617,"src":"12596:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"12589:20:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"arguments":[{"id":4041,"name":"epochStartTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3964,"src":"12625:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":4040,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12618:6:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":4039,"name":"uint32","nodeType":"ElementaryTypeName","src":"12618:6:7","typeDescriptions":{}}},"id":4042,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12618:27:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},{"arguments":[{"id":4045,"name":"minedTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3960,"src":"12655:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":4044,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"12647:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_uint224_$","typeString":"type(uint224)"},"typeName":{"id":4043,"name":"uint224","nodeType":"ElementaryTypeName","src":"12647:7:7","typeDescriptions":{}}},"id":4046,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12647:20:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"},{"typeIdentifier":"t_uint224","typeString":"uint224"}],"id":4038,"name":"Epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3498,"src":"12612:5:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Epoch_$3498_storage_ptr_$","typeString":"type(struct Epoch storage pointer)"}},"id":4047,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12612:56:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"src":"12589:79:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"id":4049,"nodeType":"ExpressionStatement","src":"12589:79:7"},{"assignments":[4051],"declarations":[{"constant":false,"id":4051,"mutability":"mutable","name":"oldDifficulty","nameLocation":"12687:13:7","nodeType":"VariableDeclaration","scope":4074,"src":"12679:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4050,"name":"uint256","nodeType":"ElementaryTypeName","src":"12679:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4053,"initialValue":{"id":4052,"name":"currentEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3619,"src":"12703:22:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12679:46:7"},{"assignments":[4055],"declarations":[{"constant":false,"id":4055,"mutability":"mutable","name":"newDifficulty","nameLocation":"12743:13:7","nodeType":"VariableDeclaration","scope":4074,"src":"12735:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4054,"name":"uint256","nodeType":"ElementaryTypeName","src":"12735:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4060,"initialValue":{"arguments":[{"id":4058,"name":"minedTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3960,"src":"12788:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":4056,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"12759:8:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":4057,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"12768:19:7","memberName":"calculateDifficulty","nodeType":"MemberAccess","referencedDeclaration":1854,"src":"12759:28:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":4059,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12759:41:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12735:65:7"},{"expression":{"id":4063,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4061,"name":"prevEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3621,"src":"12811:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4062,"name":"oldDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4051,"src":"12833:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12811:35:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4064,"nodeType":"ExpressionStatement","src":"12811:35:7"},{"expression":{"id":4067,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4065,"name":"currentEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3619,"src":"12856:22:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4066,"name":"newDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4055,"src":"12881:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12856:38:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4068,"nodeType":"ExpressionStatement","src":"12856:38:7"},{"eventCall":{"arguments":[{"id":4070,"name":"oldDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4051,"src":"12919:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":4071,"name":"newDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4055,"src":"12934:13:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":4069,"name":"Retarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3510,"src":"12910:8:7","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (uint256,uint256)"}},"id":4072,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12910:38:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4073,"nodeType":"EmitStatement","src":"12905:43:7"}]},"baseFunctions":[3531],"documentation":{"id":3844,"nodeType":"StructuredDocumentation","src":"6979:1614:7","text":"@notice Add a new epoch to the relay by providing a proof\n of the difficulty before and after the retarget.\n @param headers A chain of headers including the last X blocks before\n the retarget, followed by the first X blocks after the retarget,\n where X equals the current proof length.\n @dev Checks that the first X blocks are valid in the most recent epoch,\n that the difficulty of the new epoch is calculated correctly according\n to the block timestamps, and that the next X blocks would be valid in\n the new epoch.\n We have no information of block heights, so we cannot enforce that\n retargets only happen every 2016 blocks; instead, we assume that this\n is the case if a valid proof of work is provided.\n It is possible to cheat the relay by providing X blocks from earlier in\n the most recent epoch, and then mining X new blocks after them.\n However, each of these malicious blocks would have to be mined to a\n higher difficulty than the legitimate ones.\n Alternatively, if the retarget has not been performed yet, one could\n first mine X blocks in the old difficulty with timestamps set far in\n the future, and then another X blocks at a greatly reduced difficulty.\n In either case, cheating the relay requires more work than mining X\n legitimate blocks.\n Only the most recent epoch is vulnerable to these attacks; once a\n retarget has been proven to the relay, the epoch is immutable even if a\n contradictory proof were to be presented later."},"functionSelector":"7ca5b1dd","implemented":true,"kind":"function","modifiers":[{"id":3849,"kind":"modifierInvocation","modifierName":{"id":3848,"name":"relayActive","nameLocations":["8647:11:7"],"nodeType":"IdentifierPath","referencedDeclaration":3639,"src":"8647:11:7"},"nodeType":"ModifierInvocation","src":"8647:11:7"}],"name":"retarget","nameLocation":"8607:8:7","parameters":{"id":3847,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3846,"mutability":"mutable","name":"headers","nameLocation":"8629:7:7","nodeType":"VariableDeclaration","scope":4075,"src":"8616:20:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3845,"name":"bytes","nodeType":"ElementaryTypeName","src":"8616:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"8615:22:7"},"returnParameters":{"id":3850,"nodeType":"ParameterList","parameters":[],"src":"8659:0:7"},"scope":4465,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":4304,"nodeType":"FunctionDefinition","src":"14794:5152:7","nodes":[],"body":{"id":4303,"nodeType":"Block","src":"14944:5002:7","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4089,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":4086,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4078,"src":"14962:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":4087,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"14970:6:7","memberName":"length","nodeType":"MemberAccess","src":"14962:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"hexValue":"3830","id":4088,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14979:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"14962:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":4090,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14985:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"14962:24:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c696420686561646572206c656e677468","id":4092,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"14988:23:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_62784c5b4854856e20fdf3da2ed017d8d7ad91e96ee28ef17acb0683953b91b7","typeString":"literal_string \"Invalid header length\""},"value":"Invalid header length"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_62784c5b4854856e20fdf3da2ed017d8d7ad91e96ee28ef17acb0683953b91b7","typeString":"literal_string \"Invalid header length\""}],"id":4085,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"14954:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4093,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"14954:58:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4094,"nodeType":"ExpressionStatement","src":"14954:58:7"},{"expression":{"id":4100,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4095,"name":"headerCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4083,"src":"15023:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4099,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":4096,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4078,"src":"15037:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":4097,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15045:6:7","memberName":"length","nodeType":"MemberAccess","src":"15037:14:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"3830","id":4098,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15054:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"15037:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15023:33:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4101,"nodeType":"ExpressionStatement","src":"15023:33:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":4109,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4103,"name":"headerCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4083,"src":"15075:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"31","id":4104,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15089:1:7","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"15075:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4108,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4106,"name":"headerCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4083,"src":"15094:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"32303136","id":4107,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15108:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2016_by_1","typeString":"int_const 2016"},"value":"2016"},"src":"15094:18:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"15075:37:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c6964206e756d626572206f662068656164657273","id":4110,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"15114:27:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_9f16870044d5977f0f8bf45a3b0ac09e48ef9d402eb4ca1c20801e3c364e956c","typeString":"literal_string \"Invalid number of headers\""},"value":"Invalid number of headers"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_9f16870044d5977f0f8bf45a3b0ac09e48ef9d402eb4ca1c20801e3c364e956c","typeString":"literal_string \"Invalid number of headers\""}],"id":4102,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"15067:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4111,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15067:75:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4112,"nodeType":"ExpressionStatement","src":"15067:75:7"},{"expression":{"id":4117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4113,"name":"startingHeaderTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4081,"src":"15153:23:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":4114,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4078,"src":"15179:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":4115,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15187:16:7","memberName":"extractTimestamp","nodeType":"MemberAccess","referencedDeclaration":1918,"src":"15179:24:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) pure returns (uint32)"}},"id":4116,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15179:26:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"15153:52:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4118,"nodeType":"ExpressionStatement","src":"15153:52:7"},{"assignments":[4120,4122],"declarations":[{"constant":false,"id":4120,"mutability":"mutable","name":"previousHeaderDigest","nameLocation":"15398:20:7","nodeType":"VariableDeclaration","scope":4303,"src":"15390:28:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":4119,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15390:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":4122,"mutability":"mutable","name":"currentHeaderTarget","nameLocation":"15428:19:7","nodeType":"VariableDeclaration","scope":4303,"src":"15420:27:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4121,"name":"uint256","nodeType":"ElementaryTypeName","src":"15420:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4131,"initialValue":{"arguments":[{"id":4124,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4078,"src":"15466:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"hexValue":"30","id":4125,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15475:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"arguments":[{"hexValue":"30","id":4128,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15486:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":4127,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"15478:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":4126,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15478:7:7","typeDescriptions":{}}},"id":4129,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15478:10:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":4123,"name":"validateHeader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4464,"src":"15451:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes_memory_ptr_$_t_uint256_$_t_bytes32_$returns$_t_bytes32_$_t_uint256_$","typeString":"function (bytes memory,uint256,bytes32) view returns (bytes32,uint256)"}},"id":4130,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15451:38:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_uint256_$","typeString":"tuple(bytes32,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"15389:100:7"},{"assignments":[4134],"declarations":[{"constant":false,"id":4134,"mutability":"mutable","name":"nullEpoch","nameLocation":"15513:9:7","nodeType":"VariableDeclaration","scope":4303,"src":"15500:22:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch"},"typeName":{"id":4133,"nodeType":"UserDefinedTypeName","pathNode":{"id":4132,"name":"Epoch","nameLocations":["15500:5:7"],"nodeType":"IdentifierPath","referencedDeclaration":3498,"src":"15500:5:7"},"referencedDeclaration":3498,"src":"15500:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage_ptr","typeString":"struct Epoch"}},"visibility":"internal"}],"id":4139,"initialValue":{"arguments":[{"hexValue":"30","id":4136,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15531:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},{"hexValue":"30","id":4137,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15534:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":4135,"name":"Epoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3498,"src":"15525:5:7","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_Epoch_$3498_storage_ptr_$","typeString":"type(struct Epoch storage pointer)"}},"id":4138,"isConstant":false,"isLValue":false,"isPure":true,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15525:11:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"VariableDeclarationStatement","src":"15500:36:7"},{"assignments":[4141],"declarations":[{"constant":false,"id":4141,"mutability":"mutable","name":"startingEpochNumber","nameLocation":"15555:19:7","nodeType":"VariableDeclaration","scope":4303,"src":"15547:27:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4140,"name":"uint256","nodeType":"ElementaryTypeName","src":"15547:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4143,"initialValue":{"id":4142,"name":"currentEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3617,"src":"15577:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"VariableDeclarationStatement","src":"15547:42:7"},{"assignments":[4146],"declarations":[{"constant":false,"id":4146,"mutability":"mutable","name":"startingEpoch","nameLocation":"15612:13:7","nodeType":"VariableDeclaration","scope":4303,"src":"15599:26:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch"},"typeName":{"id":4145,"nodeType":"UserDefinedTypeName","pathNode":{"id":4144,"name":"Epoch","nameLocations":["15599:5:7"],"nodeType":"IdentifierPath","referencedDeclaration":3498,"src":"15599:5:7"},"referencedDeclaration":3498,"src":"15599:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage_ptr","typeString":"struct Epoch"}},"visibility":"internal"}],"id":4150,"initialValue":{"baseExpression":{"id":4147,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3626,"src":"15628:6:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch storage ref)"}},"id":4149,"indexExpression":{"id":4148,"name":"startingEpochNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4141,"src":"15635:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15628:27:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"nodeType":"VariableDeclarationStatement","src":"15599:56:7"},{"assignments":[4153],"declarations":[{"constant":false,"id":4153,"mutability":"mutable","name":"nextEpoch","nameLocation":"15678:9:7","nodeType":"VariableDeclaration","scope":4303,"src":"15665:22:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch"},"typeName":{"id":4152,"nodeType":"UserDefinedTypeName","pathNode":{"id":4151,"name":"Epoch","nameLocations":["15665:5:7"],"nodeType":"IdentifierPath","referencedDeclaration":3498,"src":"15665:5:7"},"referencedDeclaration":3498,"src":"15665:5:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage_ptr","typeString":"struct Epoch"}},"visibility":"internal"}],"id":4155,"initialValue":{"id":4154,"name":"nullEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4134,"src":"15690:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"VariableDeclarationStatement","src":"15665:34:7"},{"body":{"id":4174,"nodeType":"Block","src":"16493:145:7","statements":[{"expression":{"id":4162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4160,"name":"startingEpochNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4141,"src":"16507:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"hexValue":"31","id":4161,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16530:1:7","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"16507:24:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4163,"nodeType":"ExpressionStatement","src":"16507:24:7"},{"expression":{"id":4166,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4164,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"16545:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4165,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"16557:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"src":"16545:25:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4167,"nodeType":"ExpressionStatement","src":"16545:25:7"},{"expression":{"id":4172,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4168,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"16584:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":4169,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3626,"src":"16600:6:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch storage ref)"}},"id":4171,"indexExpression":{"id":4170,"name":"startingEpochNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4141,"src":"16607:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"16600:27:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"src":"16584:43:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4173,"nodeType":"ExpressionStatement","src":"16584:43:7"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4159,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4156,"name":"startingHeaderTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4081,"src":"16442:23:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":4157,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"16468:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4158,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16482:9:7","memberName":"timestamp","nodeType":"MemberAccess","referencedDeclaration":3495,"src":"16468:23:7","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"16442:49:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":4175,"nodeType":"WhileStatement","src":"16435:203:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":4180,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":4177,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"16910:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4178,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16924:9:7","memberName":"timestamp","nodeType":"MemberAccess","referencedDeclaration":3495,"src":"16910:23:7","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":4179,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"16936:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"16910:27:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"43616e6e6f742076616c696461746520636861696e73206265666f72652072656c61792067656e65736973","id":4181,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"16939:45:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_0b45e0c942b7d3a49c3b0ed140ec1d1519d0a667d9d595422ce92a1593ec228b","typeString":"literal_string \"Cannot validate chains before relay genesis\""},"value":"Cannot validate chains before relay genesis"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_0b45e0c942b7d3a49c3b0ed140ec1d1519d0a667d9d595422ce92a1593ec228b","typeString":"literal_string \"Cannot validate chains before relay genesis\""}],"id":4176,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"16902:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4182,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16902:83:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4183,"nodeType":"ExpressionStatement","src":"16902:83:7"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4187,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4184,"name":"currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4122,"src":"17199:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":4185,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"17222:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4186,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"17236:6:7","memberName":"target","nodeType":"MemberAccess","referencedDeclaration":3497,"src":"17222:20:7","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}},"src":"17199:43:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":4226,"nodeType":"IfStatement","src":"17195:1108:7","trueBody":{"id":4225,"nodeType":"Block","src":"17244:1059:7","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4191,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4188,"name":"currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4122,"src":"17457:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":4189,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"17480:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4190,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"17490:6:7","memberName":"target","nodeType":"MemberAccess","referencedDeclaration":3497,"src":"17480:16:7","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}},"src":"17457:39:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":4223,"nodeType":"Block","src":"17917:376:7","statements":[{"expression":{"id":4203,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4201,"name":"startingEpochNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4141,"src":"17935:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"-=","rightHandSide":{"hexValue":"31","id":4202,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"17958:1:7","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"17935:24:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4204,"nodeType":"ExpressionStatement","src":"17935:24:7"},{"expression":{"id":4207,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4205,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"17977:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4206,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"17989:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"src":"17977:25:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4208,"nodeType":"ExpressionStatement","src":"17977:25:7"},{"expression":{"id":4213,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4209,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"18020:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":4210,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3626,"src":"18036:6:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch storage ref)"}},"id":4212,"indexExpression":{"id":4211,"name":"startingEpochNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4141,"src":"18043:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"18036:27:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"src":"18020:43:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4214,"nodeType":"ExpressionStatement","src":"18020:43:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4219,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4216,"name":"currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4122,"src":"18200:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":4217,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"18223:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4218,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"18237:6:7","memberName":"target","nodeType":"MemberAccess","referencedDeclaration":3497,"src":"18223:20:7","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}},"src":"18200:43:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c69642074617267657420696e2068656164657220636861696e","id":4220,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"18245:32:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_e721be6ed7984df06c39a97d5c54c6362599caf8f8b0fb28fe9a94da038587dd","typeString":"literal_string \"Invalid target in header chain\""},"value":"Invalid target in header chain"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e721be6ed7984df06c39a97d5c54c6362599caf8f8b0fb28fe9a94da038587dd","typeString":"literal_string \"Invalid target in header chain\""}],"id":4215,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"18192:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4221,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18192:86:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4222,"nodeType":"ExpressionStatement","src":"18192:86:7"}]},"id":4224,"nodeType":"IfStatement","src":"17453:840:7","trueBody":{"id":4200,"nodeType":"Block","src":"17498:97:7","statements":[{"expression":{"id":4194,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4192,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"17516:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4193,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"17532:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"src":"17516:25:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4195,"nodeType":"ExpressionStatement","src":"17516:25:7"},{"expression":{"id":4198,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4196,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"17559:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4197,"name":"nullEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4134,"src":"17571:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"src":"17559:21:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4199,"nodeType":"ExpressionStatement","src":"17559:21:7"}]}}]}},{"body":{"id":4297,"nodeType":"Block","src":"18448:1436:7","statements":[{"assignments":[4238],"declarations":[{"constant":false,"id":4238,"mutability":"mutable","name":"currentDigest","nameLocation":"18470:13:7","nodeType":"VariableDeclaration","scope":4297,"src":"18462:21:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":4237,"name":"bytes32","nodeType":"ElementaryTypeName","src":"18462:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":4239,"nodeType":"VariableDeclarationStatement","src":"18462:21:7"},{"expression":{"id":4250,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":4240,"name":"currentDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4238,"src":"18498:13:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":4241,"name":"currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4122,"src":"18513:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":4242,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"18497:36:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_uint256_$","typeString":"tuple(bytes32,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":4244,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4078,"src":"18551:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4247,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4245,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4228,"src":"18560:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3830","id":4246,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18564:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"18560:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":4248,"name":"previousHeaderDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4120,"src":"18568:20:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":4243,"name":"validateHeader","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4464,"src":"18536:14:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes_memory_ptr_$_t_uint256_$_t_bytes32_$returns$_t_bytes32_$_t_uint256_$","typeString":"function (bytes memory,uint256,bytes32) view returns (bytes32,uint256)"}},"id":4249,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"18536:53:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_uint256_$","typeString":"tuple(bytes32,uint256)"}},"src":"18497:92:7","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4251,"nodeType":"ExpressionStatement","src":"18497:92:7"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4255,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4252,"name":"currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4122,"src":"19335:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":4253,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"19358:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4254,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"19372:6:7","memberName":"target","nodeType":"MemberAccess","referencedDeclaration":3497,"src":"19358:20:7","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}},"src":"19335:43:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":4292,"nodeType":"IfStatement","src":"19331:492:7","trueBody":{"id":4291,"nodeType":"Block","src":"19380:443:7","statements":[{"assignments":[4257],"declarations":[{"constant":false,"id":4257,"mutability":"mutable","name":"currentHeaderTimestamp","nameLocation":"19406:22:7","nodeType":"VariableDeclaration","scope":4291,"src":"19398:30:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4256,"name":"uint256","nodeType":"ElementaryTypeName","src":"19398:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4264,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4262,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4260,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4228,"src":"19458:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3830","id":4261,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19462:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"},"src":"19458:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":4258,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4078,"src":"19431:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":4259,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"19439:18:7","memberName":"extractTimestampAt","nodeType":"MemberAccess","referencedDeclaration":3589,"src":"19431:26:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (uint32)"}},"id":4263,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19431:34:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"19398:67:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":4279,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":4274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":4269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":4266,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"19513:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4267,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"19523:9:7","memberName":"timestamp","nodeType":"MemberAccess","referencedDeclaration":3495,"src":"19513:19:7","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"hexValue":"30","id":4268,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"19536:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"19513:24:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4273,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4270,"name":"currentHeaderTarget","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4122,"src":"19541:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":4271,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"19564:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4272,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"19574:6:7","memberName":"target","nodeType":"MemberAccess","referencedDeclaration":3497,"src":"19564:16:7","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}},"src":"19541:39:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"19513:67:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4278,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4275,"name":"currentHeaderTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4257,"src":"19608:22:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":4276,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"19634:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4277,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"19644:9:7","memberName":"timestamp","nodeType":"MemberAccess","referencedDeclaration":3495,"src":"19634:19:7","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"19608:45:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"19513:140:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c69642074617267657420696e2068656164657220636861696e","id":4280,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"19675:32:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_e721be6ed7984df06c39a97d5c54c6362599caf8f8b0fb28fe9a94da038587dd","typeString":"literal_string \"Invalid target in header chain\""},"value":"Invalid target in header chain"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_e721be6ed7984df06c39a97d5c54c6362599caf8f8b0fb28fe9a94da038587dd","typeString":"literal_string \"Invalid target in header chain\""}],"id":4265,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"19484:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4281,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"19484:241:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4282,"nodeType":"ExpressionStatement","src":"19484:241:7"},{"expression":{"id":4285,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4283,"name":"startingEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4146,"src":"19744:13:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4284,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"19760:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"src":"19744:25:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4286,"nodeType":"ExpressionStatement","src":"19744:25:7"},{"expression":{"id":4289,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4287,"name":"nextEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4153,"src":"19787:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4288,"name":"nullEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4134,"src":"19799:9:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"src":"19787:21:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_memory_ptr","typeString":"struct Epoch memory"}},"id":4290,"nodeType":"ExpressionStatement","src":"19787:21:7"}]}},{"expression":{"id":4295,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4293,"name":"previousHeaderDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4120,"src":"19837:20:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":4294,"name":"currentDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4238,"src":"19860:13:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"19837:36:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":4296,"nodeType":"ExpressionStatement","src":"19837:36:7"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4233,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4231,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4228,"src":"18426:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":4232,"name":"headerCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4083,"src":"18430:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"18426:15:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":4298,"initializationExpression":{"assignments":[4228],"declarations":[{"constant":false,"id":4228,"mutability":"mutable","name":"i","nameLocation":"18419:1:7","nodeType":"VariableDeclaration","scope":4298,"src":"18411:9:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4227,"name":"uint256","nodeType":"ElementaryTypeName","src":"18411:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":4230,"initialValue":{"hexValue":"31","id":4229,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"18423:1:7","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"VariableDeclarationStatement","src":"18411:13:7"},"loopExpression":{"expression":{"id":4235,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"18443:3:7","subExpression":{"id":4234,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4228,"src":"18443:1:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4236,"nodeType":"ExpressionStatement","src":"18443:3:7"},"nodeType":"ForStatement","src":"18406:1478:7"},{"expression":{"components":[{"id":4299,"name":"startingHeaderTimestamp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4081,"src":"19902:23:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":4300,"name":"headerCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4083,"src":"19927:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":4301,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"19901:38:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":4084,"id":4302,"nodeType":"Return","src":"19894:45:7"}]},"baseFunctions":[3540],"documentation":{"id":4076,"nodeType":"StructuredDocumentation","src":"12961:1828:7","text":"@notice Check whether a given chain of headers should be accepted as\n valid within the rules of the relay.\n If the validation fails, this function throws an exception.\n @param headers A chain of 2 to 2015 bitcoin headers.\n @return startingHeaderTimestamp The timestamp of the first header.\n @return headerCount The number of headers.\n @dev A chain of headers is accepted as valid if:\n - Its length is between 2 and 2015 headers.\n - Headers in the chain are sequential and refer to previous digests.\n - Each header is mined with the correct amount of work.\n - The difficulty in each header matches an epoch of the relay,\n   as determined by the headers' timestamps. The headers must be between\n   the genesis epoch and the latest proven epoch (inclusive).\n If the chain contains a retarget, it is accepted if the retarget has\n already been proven to the relay.\n If the chain contains blocks of an epoch that has not been proven to\n the relay (after a retarget within the header chain, or when the entire\n chain falls within an epoch that has not been proven yet), it will be\n rejected.\n One exception to this is when two subsequent epochs have exactly the\n same difficulty; headers from the latter epoch will be accepted if the\n previous epoch has been proven to the relay.\n This is because it is not possible to distinguish such headers from\n headers of the previous epoch.\n If the difficulty increases significantly between relay genesis and the\n present, creating fraudulent proofs for earlier epochs becomes easier.\n Users of the relay should check the timestamps of valid headers and\n only accept appropriately recent ones."},"functionSelector":"189179a3","implemented":true,"kind":"function","modifiers":[],"name":"validateChain","nameLocation":"14803:13:7","parameters":{"id":4079,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4078,"mutability":"mutable","name":"headers","nameLocation":"14830:7:7","nodeType":"VariableDeclaration","scope":4304,"src":"14817:20:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":4077,"name":"bytes","nodeType":"ElementaryTypeName","src":"14817:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"14816:22:7"},"returnParameters":{"id":4084,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4081,"mutability":"mutable","name":"startingHeaderTimestamp","nameLocation":"14894:23:7","nodeType":"VariableDeclaration","scope":4304,"src":"14886:31:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4080,"name":"uint256","nodeType":"ElementaryTypeName","src":"14886:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4083,"mutability":"mutable","name":"headerCount","nameLocation":"14927:11:7","nodeType":"VariableDeclaration","scope":4304,"src":"14919:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4082,"name":"uint256","nodeType":"ElementaryTypeName","src":"14919:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"14885:54:7"},"scope":4465,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":4319,"nodeType":"FunctionDefinition","src":"20261:143:7","nodes":[],"body":{"id":4318,"nodeType":"Block","src":"20342:62:7","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4315,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4313,"name":"blockNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4307,"src":"20378:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"32303136","id":4314,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"20392:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2016_by_1","typeString":"int_const 2016"},"value":"2016"},"src":"20378:18:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":4312,"name":"getEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4404,"src":"20359:18:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) view returns (uint256)"}},"id":4316,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"20359:38:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":4311,"id":4317,"nodeType":"Return","src":"20352:45:7"}]},"baseFunctions":[3547],"documentation":{"id":4305,"nodeType":"StructuredDocumentation","src":"19952:304:7","text":"@notice Get the difficulty of the specified block.\n @param blockNumber The number of the block. Must fall within the relay\n range (at or after the relay genesis, and at or before the end of the\n most recent epoch proven to the relay).\n @return The difficulty of the epoch."},"functionSelector":"06a27422","implemented":true,"kind":"function","modifiers":[],"name":"getBlockDifficulty","nameLocation":"20270:18:7","parameters":{"id":4308,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4307,"mutability":"mutable","name":"blockNumber","nameLocation":"20297:11:7","nodeType":"VariableDeclaration","scope":4319,"src":"20289:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4306,"name":"uint256","nodeType":"ElementaryTypeName","src":"20289:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"20288:21:7"},"returnParameters":{"id":4311,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4310,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4319,"src":"20333:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4309,"name":"uint256","nodeType":"ElementaryTypeName","src":"20333:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"20332:9:7"},"scope":4465,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":4343,"nodeType":"FunctionDefinition","src":"21138:202:7","nodes":[],"body":{"id":4342,"nodeType":"Block","src":"21233:107:7","nodes":[],"statements":[{"expression":{"id":4331,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4327,"name":"relayGenesis","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4323,"src":"21243:12:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":4330,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4328,"name":"genesisEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3615,"src":"21258:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"32303136","id":4329,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"21273:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2016_by_1","typeString":"int_const 2016"},"value":"2016"},"src":"21258:19:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"21243:34:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4332,"nodeType":"ExpressionStatement","src":"21243:34:7"},{"expression":{"id":4340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4333,"name":"currentEpochEnd","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4325,"src":"21287:15:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":4339,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint64","typeString":"uint64"},"id":4336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4334,"name":"currentEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3617,"src":"21306:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"32303136","id":4335,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"21321:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2016_by_1","typeString":"int_const 2016"},"value":"2016"},"src":"21306:19:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}}],"id":4337,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"21305:21:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"32303135","id":4338,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"21329:4:7","typeDescriptions":{"typeIdentifier":"t_rational_2015_by_1","typeString":"int_const 2015"},"value":"2015"},"src":"21305:28:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"21287:46:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4341,"nodeType":"ExpressionStatement","src":"21287:46:7"}]},"baseFunctions":[3561],"documentation":{"id":4320,"nodeType":"StructuredDocumentation","src":"20410:723:7","text":"@notice Get the range of blocks the relay can accept proofs for.\n @dev Assumes that the genesis has been set correctly.\n Additionally, if the next epoch after the current one has the exact\n same difficulty, headers for it can be validated as well.\n This function should be used for informative purposes,\n e.g. to determine whether a retarget must be provided before submitting\n a header chain for validation.\n @return relayGenesis The height of the earliest block that can be\n included in header chains for the relay to validate.\n @return currentEpochEnd The height of the last block that can be\n included in header chains for the relay to validate."},"functionSelector":"10b76ed8","implemented":true,"kind":"function","modifiers":[],"name":"getRelayRange","nameLocation":"21147:13:7","parameters":{"id":4321,"nodeType":"ParameterList","parameters":[],"src":"21160:2:7"},"returnParameters":{"id":4326,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4323,"mutability":"mutable","name":"relayGenesis","nameLocation":"21194:12:7","nodeType":"VariableDeclaration","scope":4343,"src":"21186:20:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4322,"name":"uint256","nodeType":"ElementaryTypeName","src":"21186:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4325,"mutability":"mutable","name":"currentEpochEnd","nameLocation":"21216:15:7","nodeType":"VariableDeclaration","scope":4343,"src":"21208:23:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4324,"name":"uint256","nodeType":"ElementaryTypeName","src":"21208:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"21185:47:7"},"scope":4465,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":4352,"nodeType":"FunctionDefinition","src":"21510:123:7","nodes":[],"body":{"id":4351,"nodeType":"Block","src":"21587:46:7","nodes":[],"statements":[{"expression":{"id":4349,"name":"currentEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3619,"src":"21604:22:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":4348,"id":4350,"nodeType":"Return","src":"21597:29:7"}]},"baseFunctions":[3476],"documentation":{"id":4344,"nodeType":"StructuredDocumentation","src":"21346:159:7","text":"@notice Returns the difficulty of the current epoch.\n @dev returns 0 if the relay is not ready.\n @return The difficulty of the current epoch."},"functionSelector":"113764be","implemented":true,"kind":"function","modifiers":[],"name":"getCurrentEpochDifficulty","nameLocation":"21519:25:7","parameters":{"id":4345,"nodeType":"ParameterList","parameters":[],"src":"21544:2:7"},"returnParameters":{"id":4348,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4347,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4352,"src":"21578:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4346,"name":"uint256","nodeType":"ElementaryTypeName","src":"21578:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"21577:9:7"},"scope":4465,"stateMutability":"view","virtual":true,"visibility":"external"},{"id":4361,"nodeType":"FunctionDefinition","src":"21831:117:7","nodes":[],"body":{"id":4360,"nodeType":"Block","src":"21905:43:7","nodes":[],"statements":[{"expression":{"id":4358,"name":"prevEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3621,"src":"21922:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":4357,"id":4359,"nodeType":"Return","src":"21915:26:7"}]},"baseFunctions":[3482],"documentation":{"id":4353,"nodeType":"StructuredDocumentation","src":"21639:187:7","text":"@notice Returns the difficulty of the previous epoch.\n @dev Returns 0 if the relay is not ready or has not had a retarget.\n @return The difficulty of the previous epoch."},"functionSelector":"2b97be24","implemented":true,"kind":"function","modifiers":[],"name":"getPrevEpochDifficulty","nameLocation":"21840:22:7","parameters":{"id":4354,"nodeType":"ParameterList","parameters":[],"src":"21862:2:7"},"returnParameters":{"id":4357,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4356,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4361,"src":"21896:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4355,"name":"uint256","nodeType":"ElementaryTypeName","src":"21896:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"21895:9:7"},"scope":4465,"stateMutability":"view","virtual":true,"visibility":"external"},{"id":4373,"nodeType":"FunctionDefinition","src":"21954:171:7","nodes":[],"body":{"id":4372,"nodeType":"Block","src":"22056:69:7","nodes":[],"statements":[{"expression":{"components":[{"id":4368,"name":"currentEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3619,"src":"22074:22:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":4369,"name":"prevEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3621,"src":"22098:19:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":4370,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"22073:45:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":4367,"id":4371,"nodeType":"Return","src":"22066:52:7"}]},"functionSelector":"3a1b77b0","implemented":true,"kind":"function","modifiers":[],"name":"getCurrentAndPrevEpochDifficulty","nameLocation":"21963:32:7","parameters":{"id":4362,"nodeType":"ParameterList","parameters":[],"src":"21995:2:7"},"returnParameters":{"id":4367,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4364,"mutability":"mutable","name":"current","nameLocation":"22029:7:7","nodeType":"VariableDeclaration","scope":4373,"src":"22021:15:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4363,"name":"uint256","nodeType":"ElementaryTypeName","src":"22021:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4366,"mutability":"mutable","name":"previous","nameLocation":"22046:8:7","nodeType":"VariableDeclaration","scope":4373,"src":"22038:16:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4365,"name":"uint256","nodeType":"ElementaryTypeName","src":"22038:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22020:35:7"},"scope":4465,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":4404,"nodeType":"FunctionDefinition","src":"22391:324:7","nodes":[],"body":{"id":4403,"nodeType":"Block","src":"22470:245:7","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4384,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4382,"name":"epochNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4376,"src":"22488:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":4383,"name":"genesisEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3615,"src":"22503:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"22488:27:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"45706f6368206973206265666f72652072656c61792067656e65736973","id":4385,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"22517:31:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_eac70349e0c69b7bc1bdac3a1d948b830263bfecb694e0f4f1bcfd3251d06408","typeString":"literal_string \"Epoch is before relay genesis\""},"value":"Epoch is before relay genesis"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_eac70349e0c69b7bc1bdac3a1d948b830263bfecb694e0f4f1bcfd3251d06408","typeString":"literal_string \"Epoch is before relay genesis\""}],"id":4381,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"22480:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4386,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22480:69:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4387,"nodeType":"ExpressionStatement","src":"22480:69:7"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":4391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4389,"name":"epochNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4376,"src":"22567:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"id":4390,"name":"currentEpoch","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3617,"src":"22582:12:7","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"src":"22567:27:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"45706f6368206973206e6f742070726f76656e20746f207468652072656c617920796574","id":4392,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"22596:38:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_72f00f0779780c6d65a01a3403e1fc9d6c7235c2e650e66b7ea4b43dedb280f4","typeString":"literal_string \"Epoch is not proven to the relay yet\""},"value":"Epoch is not proven to the relay yet"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_72f00f0779780c6d65a01a3403e1fc9d6c7235c2e650e66b7ea4b43dedb280f4","typeString":"literal_string \"Epoch is not proven to the relay yet\""}],"id":4388,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"22559:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4393,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22559:76:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4394,"nodeType":"ExpressionStatement","src":"22559:76:7"},{"expression":{"arguments":[{"expression":{"baseExpression":{"id":4397,"name":"epochs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3626,"src":"22681:6:7","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_struct$_Epoch_$3498_storage_$","typeString":"mapping(uint256 => struct Epoch storage ref)"}},"id":4399,"indexExpression":{"id":4398,"name":"epochNumber","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4376,"src":"22688:11:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"22681:19:7","typeDescriptions":{"typeIdentifier":"t_struct$_Epoch_$3498_storage","typeString":"struct Epoch storage ref"}},"id":4400,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"22701:6:7","memberName":"target","nodeType":"MemberAccess","referencedDeclaration":3497,"src":"22681:26:7","typeDescriptions":{"typeIdentifier":"t_uint224","typeString":"uint224"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint224","typeString":"uint224"}],"expression":{"id":4395,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"22652:8:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":4396,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"22661:19:7","memberName":"calculateDifficulty","nodeType":"MemberAccess","referencedDeclaration":1854,"src":"22652:28:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":4401,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"22652:56:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":4380,"id":4402,"nodeType":"Return","src":"22645:63:7"}]},"baseFunctions":[3554],"documentation":{"id":4374,"nodeType":"StructuredDocumentation","src":"22131:255:7","text":"@notice Get the difficulty of the specified epoch.\n @param epochNumber The number of the epoch (the height of the first\n block of the epoch, divided by 2016). Must fall within the relay range.\n @return The difficulty of the epoch."},"functionSelector":"620414e6","implemented":true,"kind":"function","modifiers":[],"name":"getEpochDifficulty","nameLocation":"22400:18:7","parameters":{"id":4377,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4376,"mutability":"mutable","name":"epochNumber","nameLocation":"22427:11:7","nodeType":"VariableDeclaration","scope":4404,"src":"22419:19:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4375,"name":"uint256","nodeType":"ElementaryTypeName","src":"22419:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22418:21:7"},"returnParameters":{"id":4380,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4379,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":4404,"src":"22461:7:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4378,"name":"uint256","nodeType":"ElementaryTypeName","src":"22461:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"22460:9:7"},"scope":4465,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":4464,"nodeType":"FunctionDefinition","src":"23361:681:7","nodes":[],"body":{"id":4463,"nodeType":"Block","src":"23525:517:7","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":4423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":4418,"name":"prevDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4411,"src":"23618:10:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":4421,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"23640:1:7","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":4420,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"23632:7:7","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":4419,"name":"bytes32","nodeType":"ElementaryTypeName","src":"23632:7:7","typeDescriptions":{}}},"id":4422,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23632:10:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"23618:24:7","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":4434,"nodeType":"IfStatement","src":"23614:130:7","trueBody":{"id":4433,"nodeType":"Block","src":"23644:100:7","statements":[{"expression":{"arguments":[{"arguments":[{"id":4427,"name":"start","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4409,"src":"23697:5:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":4428,"name":"prevDigest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4411,"src":"23704:10:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":4425,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4407,"src":"23666:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":4426,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23674:22:7","memberName":"validateHeaderPrevHash","nodeType":"MemberAccess","referencedDeclaration":2943,"src":"23666:30:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$_t_bytes32_$returns$_t_bool_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256,bytes32) pure returns (bool)"}},"id":4429,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23666:49:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c696420636861696e","id":4430,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"23717:15:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_4acdaa077a05cc233cc6b88fd673b3b7b4568e0105f0d44839e2c03bc4380c92","typeString":"literal_string \"Invalid chain\""},"value":"Invalid chain"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_4acdaa077a05cc233cc6b88fd673b3b7b4568e0105f0d44839e2c03bc4380c92","typeString":"literal_string \"Invalid chain\""}],"id":4424,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"23658:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4431,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23658:75:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4432,"nodeType":"ExpressionStatement","src":"23658:75:7"}]}},{"expression":{"id":4440,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4435,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4416,"src":"23831:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":4438,"name":"start","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4409,"src":"23864:5:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":4436,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4407,"src":"23840:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":4437,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23848:15:7","memberName":"extractTargetAt","nodeType":"MemberAccess","referencedDeclaration":1840,"src":"23840:23:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint256_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (uint256)"}},"id":4439,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23840:30:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"23831:39:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":4441,"nodeType":"ExpressionStatement","src":"23831:39:7"},{"expression":{"id":4448,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":4442,"name":"digest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4414,"src":"23880:6:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":4445,"name":"start","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4409,"src":"23910:5:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"3830","id":4446,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"23917:2:7","typeDescriptions":{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"},"value":"80"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_rational_80_by_1","typeString":"int_const 80"}],"expression":{"id":4443,"name":"headers","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4407,"src":"23889:7:7","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":4444,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23897:12:7","memberName":"hash256Slice","nodeType":"MemberAccess","referencedDeclaration":678,"src":"23889:20:7","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes_memory_ptr_$_t_uint256_$_t_uint256_$returns$_t_bytes32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256,uint256) view returns (bytes32)"}},"id":4447,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23889:31:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"23880:40:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":4449,"nodeType":"ExpressionStatement","src":"23880:40:7"},{"expression":{"arguments":[{"arguments":[{"id":4453,"name":"digest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4414,"src":"23969:6:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":4454,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4416,"src":"23977:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":4451,"name":"ValidateSPV","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2944,"src":"23938:11:7","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ValidateSPV_$2944_$","typeString":"type(library ValidateSPV)"}},"id":4452,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"23950:18:7","memberName":"validateHeaderWork","nodeType":"MemberAccess","referencedDeclaration":2914,"src":"23938:30:7","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$_t_uint256_$returns$_t_bool_$","typeString":"function (bytes32,uint256) pure returns (bool)"}},"id":4455,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23938:46:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c696420776f726b","id":4456,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"23986:14:7","typeDescriptions":{"typeIdentifier":"t_stringliteral_3eafbd6e8e34d4e3a699206064d5210bec41201a60a4fece6504eef93463dcff","typeString":"literal_string \"Invalid work\""},"value":"Invalid work"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_3eafbd6e8e34d4e3a699206064d5210bec41201a60a4fece6504eef93463dcff","typeString":"literal_string \"Invalid work\""}],"id":4450,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"23930:7:7","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":4457,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"23930:71:7","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":4458,"nodeType":"ExpressionStatement","src":"23930:71:7"},{"expression":{"components":[{"id":4459,"name":"digest","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4414,"src":"24020:6:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":4460,"name":"target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4416,"src":"24028:6:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":4461,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"24019:16:7","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes32_$_t_uint256_$","typeString":"tuple(bytes32,uint256)"}},"functionReturnParameters":4417,"id":4462,"nodeType":"Return","src":"24012:23:7"}]},"documentation":{"id":4405,"nodeType":"StructuredDocumentation","src":"22721:635:7","text":"@notice Check that the specified header forms a correct chain with the\n digest of the previous header (if provided), and has sufficient work.\n @param headers The byte array containing the header of interest.\n @param start The start of the header in the array.\n @param prevDigest The digest of the previous header\n (optional; providing zeros for the digest skips the check).\n @return digest The digest of the current header.\n @return target The PoW target of the header.\n @dev Throws an exception if the header's chain or PoW are invalid.\n Performs no other validation."},"implemented":true,"kind":"function","modifiers":[],"name":"validateHeader","nameLocation":"23370:14:7","parameters":{"id":4412,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4407,"mutability":"mutable","name":"headers","nameLocation":"23398:7:7","nodeType":"VariableDeclaration","scope":4464,"src":"23385:20:7","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":4406,"name":"bytes","nodeType":"ElementaryTypeName","src":"23385:5:7","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":4409,"mutability":"mutable","name":"start","nameLocation":"23415:5:7","nodeType":"VariableDeclaration","scope":4464,"src":"23407:13:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4408,"name":"uint256","nodeType":"ElementaryTypeName","src":"23407:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":4411,"mutability":"mutable","name":"prevDigest","nameLocation":"23430:10:7","nodeType":"VariableDeclaration","scope":4464,"src":"23422:18:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":4410,"name":"bytes32","nodeType":"ElementaryTypeName","src":"23422:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"23384:57:7"},"returnParameters":{"id":4417,"nodeType":"ParameterList","parameters":[{"constant":false,"id":4414,"mutability":"mutable","name":"digest","nameLocation":"23497:6:7","nodeType":"VariableDeclaration","scope":4464,"src":"23489:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":4413,"name":"bytes32","nodeType":"ElementaryTypeName","src":"23489:7:7","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":4416,"mutability":"mutable","name":"target","nameLocation":"23513:6:7","nodeType":"VariableDeclaration","scope":4464,"src":"23505:14:7","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":4415,"name":"uint256","nodeType":"ElementaryTypeName","src":"23505:7:7","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"23488:32:7"},"scope":4465,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":3592,"name":"Ownable","nameLocations":["2152:7:7"],"nodeType":"IdentifierPath","referencedDeclaration":4610,"src":"2152:7:7"},"id":3593,"nodeType":"InheritanceSpecifier","src":"2152:7:7"},{"baseName":{"id":3594,"name":"ILightRelay","nameLocations":["2161:11:7"],"nodeType":"IdentifierPath","referencedDeclaration":3562,"src":"2161:11:7"},"id":3595,"nodeType":"InheritanceSpecifier","src":"2161:11:7"}],"canonicalName":"LightRelay","contractDependencies":[],"contractKind":"contract","documentation":{"id":3591,"nodeType":"StructuredDocumentation","src":"2051:78:7","text":"@dev THE RELAY MUST NOT BE USED BEFORE GENESIS AND AT LEAST ONE RETARGET."},"fullyImplemented":true,"linearizedBaseContracts":[4465,3562,3483,4610,5229],"name":"LightRelay","nameLocation":"2138:10:7","scope":4466,"usedErrors":[]}],"license":"GPL-3.0-only"},"id":7}