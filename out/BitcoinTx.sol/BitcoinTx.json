{"abi":[],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212209d79477a6194be9fa9b6212911aa2784328aeb30ef313ced849b99bda715208464736f6c63430008110033","sourceMap":"5074:11467:4:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;5074:11467:4;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212209d79477a6194be9fa9b6212911aa2784328aeb30ef313ced849b99bda715208464736f6c63430008110033","sourceMap":"5074:11467:4:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Non-coinbase transaction input (txIn):      | Bytes  |       Name       |        BTC type        |                 Description                 |      |--------|------------------|------------------------|---------------------------------------------|      | 36     | previous_output  | outpoint               | The previous outpoint being spent           |      | varies | script_bytes     | compactSize uint (LE)  | The number of bytes in the signature script |      | varies | signature_script | char[]                 | The signature script, empty for P2WSH       |      | 4      | sequence         | uint32_t (LE)          | Sequence number                             |      The reference to transaction being spent (outpoint):      | Bytes | Name  |   BTC type    |               Description                |      |-------|-------|---------------|------------------------------------------|      |    32 | hash  | char[32]      | Hash of the transaction to spend         |      |    4  | index | uint32_t (LE) | Index of the specific output from the TX |      Transaction output (txOut):      | Bytes  |      Name       |     BTC type          |             Description              |      |--------|-----------------|-----------------------|--------------------------------------|      | 8      | value           | int64_t (LE)          | Number of satoshis to spend          |      | 1+     | pk_script_bytes | compactSize uint (LE) | Number of bytes in the pubkey script |      | varies | pk_script       | char[]                | Pubkey script                        |      compactSize uint format:      |                  Value                  | Bytes |                    Format                    |      |-----------------------------------------|-------|----------------------------------------------|      | >= 0 && <= 252                          | 1     | uint8_t                                      |      | >= 253 && <= 0xffff                     | 3     | 0xfd followed by the number as uint16_t (LE) |      | >= 0x10000 && <= 0xffffffff             | 5     | 0xfe followed by the number as uint32_t (LE) |      | >= 0x100000000 && <= 0xffffffffffffffff | 9     | 0xff followed by the number as uint64_t (LE) |      (*) compactSize uint is often references as VarInt)      Coinbase transaction input (txIn):      | Bytes  |       Name       |        BTC type        |                 Description                 |      |--------|------------------|------------------------|---------------------------------------------|      | 32     | hash             | char[32]               | A 32-byte 0x0  null (no previous_outpoint)  |      | 4      | index            | uint32_t (LE)          | 0xffffffff (no previous_outpoint)           |      | varies | script_bytes     | compactSize uint (LE)  | The number of bytes in the coinbase script  |      | varies | height           | char[]                 | The block height of this block (BIP34) (*)  |      | varies | coinbase_script  | none                   |  Arbitrary data, max 100 bytes              |      | 4      | sequence         | uint32_t (LE)          | Sequence number      (*)  Uses script language: starts with a data-pushing opcode that indicates how many bytes to push to           the stack followed by the block height as a little-endian unsigned integer. This script must be as           short as possible, otherwise it may be rejected. The data-pushing opcode will be 0x03 and the total           size four bytes until block 16,777,216 about 300 years from now.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/bob/src/bridge/BitcoinTx.sol\":\"BitcoinTx\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@account-abstraction/=lib/bob/lib/account-abstraction/\",\":@bob-collective/bitcoin-spv/=lib/bitcoin-spv/src/\",\":@bob-collective/bob/=lib/bob/src/bridge/\",\":@opengsn/=lib/bob/lib/gsn/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":account-abstraction/=lib/bob/lib/account-abstraction/contracts/\",\":bitcoin-spv/=lib/bitcoin-spv/\",\":bob/=lib/bob/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":gsn.git/=lib/bob/lib/gsn/\",\":gsn/=lib/bob/lib/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/\"]},\"sources\":{\"lib/bitcoin-spv/src/BTCUtils.sol\":{\"keccak256\":\"0x439eaa97e9239705f3d31e8d39dccbad32311f1f119e295d53c65e0ae3c5a5fc\",\"urls\":[\"bzz-raw://976a361a89c21afc44b5e0a552271d9288b12cf34a9925c25f3c6975ece4e667\",\"dweb:/ipfs/QmNTb4eJyxV5iZj8RJGFBGSKXWsuvoMYqLLBgk16dhWePH\"]},\"lib/bitcoin-spv/src/BytesLib.sol\":{\"keccak256\":\"0x43e0f3b3b23c861bd031588bf410dfdd02e2af17941a89aa38d70e534e0380d1\",\"urls\":[\"bzz-raw://76011d699a8b229dbfdc698b3ece658daad9d96778e86d679aa576bc966209d6\",\"dweb:/ipfs/QmRZEWAeRQtsTUvfzEd1jb2wAqpTNR5KAme92gBRn4SYiT\"]},\"lib/bitcoin-spv/src/SafeMath.sol\":{\"keccak256\":\"0x35930d982394c7ffde439b82e5e696c5b21a6f09699d44861dfe409ef64084a3\",\"urls\":[\"bzz-raw://090e9d78755d4916fa2f5f5d8f9fd2fc59bfc5a25a5e91636a92c4c07aee9c6b\",\"dweb:/ipfs/QmXfz4TPDvgnuYz9eS5AL87GfCLxHQZJV1Y8ieJU9M8yTe\"]},\"lib/bitcoin-spv/src/ValidateSPV.sol\":{\"keccak256\":\"0xce3febbf3ad3a7ff8a8effd0c7ccaf7ccfa2719578b537d49ea196f0bae8062b\",\"urls\":[\"bzz-raw://5f18942483bf20507ae6c0abb5421df96b1aebb7af15f541bda8470f6277312a\",\"dweb:/ipfs/QmPzEpA8w5k6pVFadm3UCLqNdxFAjPwP9Lpi5HMQsQg52J\"]},\"lib/bob/src/bridge/BitcoinTx.sol\":{\"keccak256\":\"0xa628d671a65181edaa7a87610ecb2c290d878504aad514984afabc77ec946a25\",\"license\":\"GPL-3.0-only\",\"urls\":[\"bzz-raw://b92e244345a7c0fd56381910de2717b8ce89ebb25cf1b40d7b560a92e27f9085\",\"dweb:/ipfs/QmXJvrZkk2oquV7YJVjULDKTi24Ak8pZPWJCRaUbV3VTPG\"]},\"lib/bob/src/bridge/BridgeState.sol\":{\"keccak256\":\"0x7baf91dd6d698492e914f8af4e03809016d65e2ab0426c206929548711fe7a09\",\"license\":\"GPL-3.0-only\",\"urls\":[\"bzz-raw://93d40ace137531b5e7bab7ab8890f50ba6ba42093c61df7b05d4ba73435043d1\",\"dweb:/ipfs/QmXHZr2N9F6UNZs4F2jMQqMVVLtbTn4w3NjQTK6Lf5wN46\"]},\"lib/bob/src/bridge/IRelay.sol\":{\"keccak256\":\"0x71a1106388d4b4b9484de78d8d5541cd5ad0d029a5bc43582cb17a18b3a6125c\",\"license\":\"GPL-3.0-only\",\"urls\":[\"bzz-raw://1f883db175f9e8bf4102874b4a1a4ac10692c1c79ff7c18b2db63bb3cb753a09\",\"dweb:/ipfs/QmbWkLKWxH9uDvco45TnjyDQ9PZifQNB418FfgGCPbKdpp\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.17+commit.8df45f5f"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@account-abstraction/=lib/bob/lib/account-abstraction/","@bob-collective/bitcoin-spv/=lib/bitcoin-spv/src/","@bob-collective/bob/=lib/bob/src/bridge/","@opengsn/=lib/bob/lib/gsn/","@openzeppelin/=lib/openzeppelin-contracts/","account-abstraction/=lib/bob/lib/account-abstraction/contracts/","bitcoin-spv/=lib/bitcoin-spv/","bob/=lib/bob/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","gsn.git/=lib/bob/lib/gsn/","gsn/=lib/bob/lib/","openzeppelin-contracts/=lib/openzeppelin-contracts/contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/bob/src/bridge/BitcoinTx.sol":"BitcoinTx"},"libraries":{}},"sources":{"lib/bitcoin-spv/src/BTCUtils.sol":{"keccak256":"0x439eaa97e9239705f3d31e8d39dccbad32311f1f119e295d53c65e0ae3c5a5fc","urls":["bzz-raw://976a361a89c21afc44b5e0a552271d9288b12cf34a9925c25f3c6975ece4e667","dweb:/ipfs/QmNTb4eJyxV5iZj8RJGFBGSKXWsuvoMYqLLBgk16dhWePH"],"license":null},"lib/bitcoin-spv/src/BytesLib.sol":{"keccak256":"0x43e0f3b3b23c861bd031588bf410dfdd02e2af17941a89aa38d70e534e0380d1","urls":["bzz-raw://76011d699a8b229dbfdc698b3ece658daad9d96778e86d679aa576bc966209d6","dweb:/ipfs/QmRZEWAeRQtsTUvfzEd1jb2wAqpTNR5KAme92gBRn4SYiT"],"license":null},"lib/bitcoin-spv/src/SafeMath.sol":{"keccak256":"0x35930d982394c7ffde439b82e5e696c5b21a6f09699d44861dfe409ef64084a3","urls":["bzz-raw://090e9d78755d4916fa2f5f5d8f9fd2fc59bfc5a25a5e91636a92c4c07aee9c6b","dweb:/ipfs/QmXfz4TPDvgnuYz9eS5AL87GfCLxHQZJV1Y8ieJU9M8yTe"],"license":null},"lib/bitcoin-spv/src/ValidateSPV.sol":{"keccak256":"0xce3febbf3ad3a7ff8a8effd0c7ccaf7ccfa2719578b537d49ea196f0bae8062b","urls":["bzz-raw://5f18942483bf20507ae6c0abb5421df96b1aebb7af15f541bda8470f6277312a","dweb:/ipfs/QmPzEpA8w5k6pVFadm3UCLqNdxFAjPwP9Lpi5HMQsQg52J"],"license":null},"lib/bob/src/bridge/BitcoinTx.sol":{"keccak256":"0xa628d671a65181edaa7a87610ecb2c290d878504aad514984afabc77ec946a25","urls":["bzz-raw://b92e244345a7c0fd56381910de2717b8ce89ebb25cf1b40d7b560a92e27f9085","dweb:/ipfs/QmXJvrZkk2oquV7YJVjULDKTi24Ak8pZPWJCRaUbV3VTPG"],"license":"GPL-3.0-only"},"lib/bob/src/bridge/BridgeState.sol":{"keccak256":"0x7baf91dd6d698492e914f8af4e03809016d65e2ab0426c206929548711fe7a09","urls":["bzz-raw://93d40ace137531b5e7bab7ab8890f50ba6ba42093c61df7b05d4ba73435043d1","dweb:/ipfs/QmXHZr2N9F6UNZs4F2jMQqMVVLtbTn4w3NjQTK6Lf5wN46"],"license":"GPL-3.0-only"},"lib/bob/src/bridge/IRelay.sol":{"keccak256":"0x71a1106388d4b4b9484de78d8d5541cd5ad0d029a5bc43582cb17a18b3a6125c","urls":["bzz-raw://1f883db175f9e8bf4102874b4a1a4ac10692c1c79ff7c18b2db63bb3cb753a09","dweb:/ipfs/QmbWkLKWxH9uDvco45TnjyDQ9PZifQNB418FfgGCPbKdpp"],"license":"GPL-3.0-only"}},"version":1},"ast":{"absolutePath":"lib/bob/src/bridge/BitcoinTx.sol","id":3458,"exportedSymbols":{"BTCUtils":[2202],"BitcoinTx":[3457],"BridgeState":[3467],"BytesLib":[2561],"IRelay":[3483],"ValidateSPV":[2944]},"nodeType":"SourceUnit","src":"98:16444:4","nodes":[{"id":2946,"nodeType":"PragmaDirective","src":"98:23:4","nodes":[],"literals":["solidity","0.8",".17"]},{"id":2948,"nodeType":"ImportDirective","src":"123:66:4","nodes":[],"absolutePath":"lib/bitcoin-spv/src/BTCUtils.sol","file":"@bob-collective/bitcoin-spv/BTCUtils.sol","nameLocation":"-1:-1:-1","scope":3458,"sourceUnit":2203,"symbolAliases":[{"foreign":{"id":2947,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"131:8:4","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":2950,"nodeType":"ImportDirective","src":"190:66:4","nodes":[],"absolutePath":"lib/bitcoin-spv/src/BytesLib.sol","file":"@bob-collective/bitcoin-spv/BytesLib.sol","nameLocation":"-1:-1:-1","scope":3458,"sourceUnit":2562,"symbolAliases":[{"foreign":{"id":2949,"name":"BytesLib","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2561,"src":"198:8:4","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":2952,"nodeType":"ImportDirective","src":"257:72:4","nodes":[],"absolutePath":"lib/bitcoin-spv/src/ValidateSPV.sol","file":"@bob-collective/bitcoin-spv/ValidateSPV.sol","nameLocation":"-1:-1:-1","scope":3458,"sourceUnit":2945,"symbolAliases":[{"foreign":{"id":2951,"name":"ValidateSPV","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2944,"src":"265:11:4","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":2953,"nodeType":"ImportDirective","src":"331:27:4","nodes":[],"absolutePath":"lib/bob/src/bridge/BridgeState.sol","file":"./BridgeState.sol","nameLocation":"-1:-1:-1","scope":3458,"sourceUnit":3468,"symbolAliases":[],"unitAlias":""},{"id":3457,"nodeType":"ContractDefinition","src":"5074:11467:4","nodes":[{"id":2957,"nodeType":"UsingForDirective","src":"5098:25:4","nodes":[],"global":false,"libraryName":{"id":2955,"name":"BTCUtils","nameLocations":["5104:8:4"],"nodeType":"IdentifierPath","referencedDeclaration":2202,"src":"5104:8:4"},"typeName":{"id":2956,"name":"bytes","nodeType":"ElementaryTypeName","src":"5117:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},{"id":2960,"nodeType":"UsingForDirective","src":"5128:27:4","nodes":[],"global":false,"libraryName":{"id":2958,"name":"BTCUtils","nameLocations":["5134:8:4"],"nodeType":"IdentifierPath","referencedDeclaration":2202,"src":"5134:8:4"},"typeName":{"id":2959,"name":"uint256","nodeType":"ElementaryTypeName","src":"5147:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":2963,"nodeType":"UsingForDirective","src":"5160:25:4","nodes":[],"global":false,"libraryName":{"id":2961,"name":"BytesLib","nameLocations":["5166:8:4"],"nodeType":"IdentifierPath","referencedDeclaration":2561,"src":"5166:8:4"},"typeName":{"id":2962,"name":"bytes","nodeType":"ElementaryTypeName","src":"5179:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},{"id":2966,"nodeType":"UsingForDirective","src":"5190:28:4","nodes":[],"global":false,"libraryName":{"id":2964,"name":"ValidateSPV","nameLocations":["5196:11:4"],"nodeType":"IdentifierPath","referencedDeclaration":2944,"src":"5196:11:4"},"typeName":{"id":2965,"name":"bytes","nodeType":"ElementaryTypeName","src":"5212:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},{"id":2969,"nodeType":"UsingForDirective","src":"5223:30:4","nodes":[],"global":false,"libraryName":{"id":2967,"name":"ValidateSPV","nameLocations":["5229:11:4"],"nodeType":"IdentifierPath","referencedDeclaration":2944,"src":"5229:11:4"},"typeName":{"id":2968,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5245:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":2982,"nodeType":"StructDefinition","src":"5312:1479:4","nodes":[],"canonicalName":"BitcoinTx.Info","members":[{"constant":false,"id":2972,"mutability":"mutable","name":"version","nameLocation":"5519:7:4","nodeType":"VariableDeclaration","scope":2982,"src":"5512:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2971,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5512:6:4","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"},{"constant":false,"id":2975,"mutability":"mutable","name":"inputVector","nameLocation":"6189:11:4","nodeType":"VariableDeclaration","scope":2982,"src":"6183:17:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":2974,"name":"bytes","nodeType":"ElementaryTypeName","src":"6183:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":2978,"mutability":"mutable","name":"outputVector","nameLocation":"6552:12:4","nodeType":"VariableDeclaration","scope":2982,"src":"6546:18:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":2977,"name":"bytes","nodeType":"ElementaryTypeName","src":"6546:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":2981,"mutability":"mutable","name":"locktime","nameLocation":"6776:8:4","nodeType":"VariableDeclaration","scope":2982,"src":"6769:15:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2980,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6769:6:4","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"name":"Info","nameLocation":"5319:4:4","scope":3457,"visibility":"public"},{"id":2992,"nodeType":"StructDefinition","src":"6868:355:4","nodes":[],"canonicalName":"BitcoinTx.Proof","members":[{"constant":false,"id":2985,"mutability":"mutable","name":"merkleProof","nameLocation":"6971:11:4","nodeType":"VariableDeclaration","scope":2992,"src":"6965:17:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":2984,"name":"bytes","nodeType":"ElementaryTypeName","src":"6965:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":2988,"mutability":"mutable","name":"txIndexInBlock","nameLocation":"7064:14:4","nodeType":"VariableDeclaration","scope":2992,"src":"7056:22:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2987,"name":"uint256","nodeType":"ElementaryTypeName","src":"7056:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":2991,"mutability":"mutable","name":"bitcoinHeaders","nameLocation":"7202:14:4","nodeType":"VariableDeclaration","scope":2992,"src":"7196:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"},"typeName":{"id":2990,"name":"bytes","nodeType":"ElementaryTypeName","src":"7196:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"name":"Proof","nameLocation":"6875:5:4","scope":3457,"visibility":"public"},{"id":3002,"nodeType":"StructDefinition","src":"7298:364:4","nodes":[],"canonicalName":"BitcoinTx.UTXO","members":[{"constant":false,"id":2995,"mutability":"mutable","name":"txHash","nameLocation":"7471:6:4","nodeType":"VariableDeclaration","scope":3002,"src":"7463:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2994,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7463:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":2998,"mutability":"mutable","name":"txOutputIndex","nameLocation":"7559:13:4","nodeType":"VariableDeclaration","scope":3002,"src":"7552:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":2997,"name":"uint32","nodeType":"ElementaryTypeName","src":"7552:6:4","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":3001,"mutability":"mutable","name":"txOutputValue","nameLocation":"7642:13:4","nodeType":"VariableDeclaration","scope":3002,"src":"7635:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3000,"name":"uint64","nodeType":"ElementaryTypeName","src":"7635:6:4","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"name":"UTXO","nameLocation":"7305:4:4","scope":3457,"visibility":"public"},{"id":3073,"nodeType":"FunctionDefinition","src":"7956:779:4","nodes":[],"body":{"id":3072,"nodeType":"Block","src":"8120:615:4","nodes":[],"statements":[{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":3018,"name":"txInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3009,"src":"8138:6:4","typeDescriptions":{"typeIdentifier":"t_struct$_Info_$2982_memory_ptr","typeString":"struct BitcoinTx.Info memory"}},"id":3019,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8145:11:4","memberName":"inputVector","nodeType":"MemberAccess","referencedDeclaration":2975,"src":"8138:18:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3020,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8157:11:4","memberName":"validateVin","nodeType":"MemberAccess","referencedDeclaration":1673,"src":"8138:30:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_bool_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) pure returns (bool)"}},"id":3021,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8138:32:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c696420696e70757420766563746f722070726f7669646564","id":3022,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8172:31:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_81c08c8e2d7c21547c4bed90170b9e16eeb2a3aacfa343ab101969ebeb1e6351","typeString":"literal_string \"Invalid input vector provided\""},"value":"Invalid input vector provided"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_81c08c8e2d7c21547c4bed90170b9e16eeb2a3aacfa343ab101969ebeb1e6351","typeString":"literal_string \"Invalid input vector provided\""}],"id":3017,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"8130:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3023,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8130:74:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3024,"nodeType":"ExpressionStatement","src":"8130:74:4"},{"expression":{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":3026,"name":"txInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3009,"src":"8222:6:4","typeDescriptions":{"typeIdentifier":"t_struct$_Info_$2982_memory_ptr","typeString":"struct BitcoinTx.Info memory"}},"id":3027,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8229:12:4","memberName":"outputVector","nodeType":"MemberAccess","referencedDeclaration":2978,"src":"8222:19:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3028,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8242:12:4","memberName":"validateVout","nodeType":"MemberAccess","referencedDeclaration":1756,"src":"8222:32:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_bool_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) pure returns (bool)"}},"id":3029,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8222:34:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c6964206f757470757420766563746f722070726f7669646564","id":3030,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8258:32:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_b3d16879df223a9f9a961258257642c617d77f69e5955700bf02fedc1a87f73f","typeString":"literal_string \"Invalid output vector provided\""},"value":"Invalid output vector provided"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_b3d16879df223a9f9a961258257642c617d77f69e5955700bf02fedc1a87f73f","typeString":"literal_string \"Invalid output vector provided\""}],"id":3025,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"8214:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3031,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8214:77:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3032,"nodeType":"ExpressionStatement","src":"8214:77:4"},{"expression":{"id":3047,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3033,"name":"txHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3015,"src":"8302:6:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":3036,"name":"txInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3009,"src":"8340:6:4","typeDescriptions":{"typeIdentifier":"t_struct$_Info_$2982_memory_ptr","typeString":"struct BitcoinTx.Info memory"}},"id":3037,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8347:7:4","memberName":"version","nodeType":"MemberAccess","referencedDeclaration":2972,"src":"8340:14:4","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"expression":{"id":3038,"name":"txInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3009,"src":"8356:6:4","typeDescriptions":{"typeIdentifier":"t_struct$_Info_$2982_memory_ptr","typeString":"struct BitcoinTx.Info memory"}},"id":3039,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8363:11:4","memberName":"inputVector","nodeType":"MemberAccess","referencedDeclaration":2975,"src":"8356:18:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"expression":{"id":3040,"name":"txInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3009,"src":"8376:6:4","typeDescriptions":{"typeIdentifier":"t_struct$_Info_$2982_memory_ptr","typeString":"struct BitcoinTx.Info memory"}},"id":3041,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8383:12:4","memberName":"outputVector","nodeType":"MemberAccess","referencedDeclaration":2978,"src":"8376:19:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"expression":{"id":3042,"name":"txInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3009,"src":"8397:6:4","typeDescriptions":{"typeIdentifier":"t_struct$_Info_$2982_memory_ptr","typeString":"struct BitcoinTx.Info memory"}},"id":3043,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8404:8:4","memberName":"locktime","nodeType":"MemberAccess","referencedDeclaration":2981,"src":"8397:15:4","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"id":3034,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"8323:3:4","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":3035,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8327:12:4","memberName":"encodePacked","nodeType":"MemberAccess","src":"8323:16:4","typeDescriptions":{"typeIdentifier":"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$","typeString":"function () pure returns (bytes memory)"}},"id":3044,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8323:90:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3045,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8414:11:4","memberName":"hash256View","nodeType":"MemberAccess","referencedDeclaration":652,"src":"8323:102:4","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes_memory_ptr_$returns$_t_bytes32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) view returns (bytes32)"}},"id":3046,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8323:104:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"8302:125:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":3048,"nodeType":"ExpressionStatement","src":"8302:125:4"},{"expression":{"arguments":[{"arguments":[{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":3052,"name":"proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3012,"src":"8472:5:4","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$2992_memory_ptr","typeString":"struct BitcoinTx.Proof memory"}},"id":3053,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8478:14:4","memberName":"bitcoinHeaders","nodeType":"MemberAccess","referencedDeclaration":2991,"src":"8472:20:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3054,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8493:19:4","memberName":"extractMerkleRootLE","nodeType":"MemberAccess","referencedDeclaration":1770,"src":"8472:40:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":3055,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8472:42:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"expression":{"id":3056,"name":"proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3012,"src":"8516:5:4","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$2992_memory_ptr","typeString":"struct BitcoinTx.Proof memory"}},"id":3057,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8522:11:4","memberName":"merkleProof","nodeType":"MemberAccess","referencedDeclaration":2985,"src":"8516:17:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"expression":{"id":3058,"name":"proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3012,"src":"8535:5:4","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$2992_memory_ptr","typeString":"struct BitcoinTx.Proof memory"}},"id":3059,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8541:14:4","memberName":"txIndexInBlock","nodeType":"MemberAccess","referencedDeclaration":2988,"src":"8535:20:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3050,"name":"txHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3015,"src":"8459:6:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":3051,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8466:5:4","memberName":"prove","nodeType":"MemberAccess","referencedDeclaration":2768,"src":"8459:12:4","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes32_$_t_bytes32_$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_bytes32_$","typeString":"function (bytes32,bytes32,bytes memory,uint256) view returns (bool)"}},"id":3060,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8459:97:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5478206d65726b6c652070726f6f66206973206e6f742076616c696420666f722070726f76696465642068656164657220616e642074782068617368","id":3061,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"8570:62:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_a06ae51c71eb530f3be7271820349cdc3c1354af79f8555ff9d95e771751af98","typeString":"literal_string \"Tx merkle proof is not valid for provided header and tx hash\""},"value":"Tx merkle proof is not valid for provided header and tx hash"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_a06ae51c71eb530f3be7271820349cdc3c1354af79f8555ff9d95e771751af98","typeString":"literal_string \"Tx merkle proof is not valid for provided header and tx hash\""}],"id":3049,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"8438:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3062,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8438:204:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3063,"nodeType":"ExpressionStatement","src":"8438:204:4"},{"expression":{"arguments":[{"id":3065,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3006,"src":"8677:4:4","typeDescriptions":{"typeIdentifier":"t_struct$_Storage_$3466_storage_ptr","typeString":"struct BridgeState.Storage storage pointer"}},{"expression":{"id":3066,"name":"proof","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3012,"src":"8683:5:4","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$2992_memory_ptr","typeString":"struct BitcoinTx.Proof memory"}},"id":3067,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8689:14:4","memberName":"bitcoinHeaders","nodeType":"MemberAccess","referencedDeclaration":2991,"src":"8683:20:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_Storage_$3466_storage_ptr","typeString":"struct BridgeState.Storage storage pointer"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3064,"name":"evaluateProofDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3179,"src":"8653:23:4","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_Storage_$3466_storage_ptr_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (struct BridgeState.Storage storage pointer,bytes memory) view"}},"id":3068,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8653:51:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3069,"nodeType":"ExpressionStatement","src":"8653:51:4"},{"expression":{"id":3070,"name":"txHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3015,"src":"8722:6:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":3016,"id":3071,"nodeType":"Return","src":"8715:13:4"}]},"documentation":{"id":3003,"nodeType":"StructuredDocumentation","src":"7668:283:4","text":"@notice Validates the SPV proof of the Bitcoin transaction.\n         Reverts in case the validation or proof verification fail.\n @param txInfo Bitcoin transaction data.\n @param proof Bitcoin proof data.\n @return txHash Proven 32-byte transaction hash."},"implemented":true,"kind":"function","modifiers":[],"name":"validateProof","nameLocation":"7965:13:4","parameters":{"id":3013,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3006,"mutability":"mutable","name":"self","nameLocation":"8007:4:4","nodeType":"VariableDeclaration","scope":3073,"src":"7979:32:4","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Storage_$3466_storage_ptr","typeString":"struct BridgeState.Storage"},"typeName":{"id":3005,"nodeType":"UserDefinedTypeName","pathNode":{"id":3004,"name":"BridgeState.Storage","nameLocations":["7979:11:4","7991:7:4"],"nodeType":"IdentifierPath","referencedDeclaration":3466,"src":"7979:19:4"},"referencedDeclaration":3466,"src":"7979:19:4","typeDescriptions":{"typeIdentifier":"t_struct$_Storage_$3466_storage_ptr","typeString":"struct BridgeState.Storage"}},"visibility":"internal"},{"constant":false,"id":3009,"mutability":"mutable","name":"txInfo","nameLocation":"8025:6:4","nodeType":"VariableDeclaration","scope":3073,"src":"8013:18:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Info_$2982_memory_ptr","typeString":"struct BitcoinTx.Info"},"typeName":{"id":3008,"nodeType":"UserDefinedTypeName","pathNode":{"id":3007,"name":"Info","nameLocations":["8013:4:4"],"nodeType":"IdentifierPath","referencedDeclaration":2982,"src":"8013:4:4"},"referencedDeclaration":2982,"src":"8013:4:4","typeDescriptions":{"typeIdentifier":"t_struct$_Info_$2982_storage_ptr","typeString":"struct BitcoinTx.Info"}},"visibility":"internal"},{"constant":false,"id":3012,"mutability":"mutable","name":"proof","nameLocation":"8046:5:4","nodeType":"VariableDeclaration","scope":3073,"src":"8033:18:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$2992_memory_ptr","typeString":"struct BitcoinTx.Proof"},"typeName":{"id":3011,"nodeType":"UserDefinedTypeName","pathNode":{"id":3010,"name":"Proof","nameLocations":["8033:5:4"],"nodeType":"IdentifierPath","referencedDeclaration":2992,"src":"8033:5:4"},"referencedDeclaration":2992,"src":"8033:5:4","typeDescriptions":{"typeIdentifier":"t_struct$_Proof_$2992_storage_ptr","typeString":"struct BitcoinTx.Proof"}},"visibility":"internal"}],"src":"7978:74:4"},"returnParameters":{"id":3016,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3015,"mutability":"mutable","name":"txHash","nameLocation":"8108:6:4","nodeType":"VariableDeclaration","scope":3073,"src":"8100:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3014,"name":"bytes32","nodeType":"ElementaryTypeName","src":"8100:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"8099:16:4"},"scope":3457,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":3179,"nodeType":"FunctionDefinition","src":"9089:1273:4","nodes":[],"body":{"id":3178,"nodeType":"Block","src":"9199:1163:4","nodes":[],"statements":[{"assignments":[3084],"declarations":[{"constant":false,"id":3084,"mutability":"mutable","name":"relay","nameLocation":"9216:5:4","nodeType":"VariableDeclaration","scope":3178,"src":"9209:12:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IRelay_$3483","typeString":"contract IRelay"},"typeName":{"id":3083,"nodeType":"UserDefinedTypeName","pathNode":{"id":3082,"name":"IRelay","nameLocations":["9209:6:4"],"nodeType":"IdentifierPath","referencedDeclaration":3483,"src":"9209:6:4"},"referencedDeclaration":3483,"src":"9209:6:4","typeDescriptions":{"typeIdentifier":"t_contract$_IRelay_$3483","typeString":"contract IRelay"}},"visibility":"internal"}],"id":3087,"initialValue":{"expression":{"id":3085,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"9224:4:4","typeDescriptions":{"typeIdentifier":"t_struct$_Storage_$3466_storage_ptr","typeString":"struct BridgeState.Storage storage pointer"}},"id":3086,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9229:5:4","memberName":"relay","nodeType":"MemberAccess","referencedDeclaration":3463,"src":"9224:10:4","typeDescriptions":{"typeIdentifier":"t_contract$_IRelay_$3483","typeString":"contract IRelay"}},"nodeType":"VariableDeclarationStatement","src":"9209:25:4"},{"assignments":[3089],"declarations":[{"constant":false,"id":3089,"mutability":"mutable","name":"currentEpochDifficulty","nameLocation":"9253:22:4","nodeType":"VariableDeclaration","scope":3178,"src":"9245:30:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3088,"name":"uint256","nodeType":"ElementaryTypeName","src":"9245:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3093,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3090,"name":"relay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3084,"src":"9278:5:4","typeDescriptions":{"typeIdentifier":"t_contract$_IRelay_$3483","typeString":"contract IRelay"}},"id":3091,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9284:25:4","memberName":"getCurrentEpochDifficulty","nodeType":"MemberAccess","referencedDeclaration":3476,"src":"9278:31:4","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":3092,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9278:33:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9245:66:4"},{"assignments":[3095],"declarations":[{"constant":false,"id":3095,"mutability":"mutable","name":"previousEpochDifficulty","nameLocation":"9329:23:4","nodeType":"VariableDeclaration","scope":3178,"src":"9321:31:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3094,"name":"uint256","nodeType":"ElementaryTypeName","src":"9321:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3099,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3096,"name":"relay","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3084,"src":"9355:5:4","typeDescriptions":{"typeIdentifier":"t_contract$_IRelay_$3483","typeString":"contract IRelay"}},"id":3097,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9361:22:4","memberName":"getPrevEpochDifficulty","nodeType":"MemberAccess","referencedDeclaration":3482,"src":"9355:28:4","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint256_$","typeString":"function () view external returns (uint256)"}},"id":3098,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9355:30:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9321:64:4"},{"assignments":[3101],"declarations":[{"constant":false,"id":3101,"mutability":"mutable","name":"requestedDiff","nameLocation":"9404:13:4","nodeType":"VariableDeclaration","scope":3178,"src":"9396:21:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3100,"name":"uint256","nodeType":"ElementaryTypeName","src":"9396:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3103,"initialValue":{"hexValue":"30","id":3102,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9420:1:4","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"9396:25:4"},{"assignments":[3105],"declarations":[{"constant":false,"id":3105,"mutability":"mutable","name":"firstHeaderDiff","nameLocation":"9439:15:4","nodeType":"VariableDeclaration","scope":3178,"src":"9431:23:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3104,"name":"uint256","nodeType":"ElementaryTypeName","src":"9431:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3111,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3106,"name":"bitcoinHeaders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3079,"src":"9457:14:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3107,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9472:13:4","memberName":"extractTarget","nodeType":"MemberAccess","referencedDeclaration":1784,"src":"9457:28:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) pure returns (uint256)"}},"id":3108,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9457:30:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3109,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9488:19:4","memberName":"calculateDifficulty","nodeType":"MemberAccess","referencedDeclaration":1854,"src":"9457:50:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint256)"}},"id":3110,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9457:52:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9431:78:4"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3114,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3112,"name":"firstHeaderDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3105,"src":"9524:15:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":3113,"name":"currentEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3089,"src":"9543:22:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9524:41:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3122,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3120,"name":"firstHeaderDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3105,"src":"9640:15:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":3121,"name":"previousEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3095,"src":"9659:23:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9640:42:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":3132,"nodeType":"Block","src":"9754:72:4","statements":[{"expression":{"arguments":[{"hexValue":"4e6f742061742063757272656e74206f722070726576696f757320646966666963756c7479","id":3129,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9775:39:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_2ebcf872b7f86d587caffa25f5f3e96962044232b1b663351fbbea74e2c80331","typeString":"literal_string \"Not at current or previous difficulty\""},"value":"Not at current or previous difficulty"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_2ebcf872b7f86d587caffa25f5f3e96962044232b1b663351fbbea74e2c80331","typeString":"literal_string \"Not at current or previous difficulty\""}],"id":3128,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"9768:6:4","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":3130,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9768:47:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3131,"nodeType":"ExpressionStatement","src":"9768:47:4"}]},"id":3133,"nodeType":"IfStatement","src":"9636:190:4","trueBody":{"id":3127,"nodeType":"Block","src":"9684:64:4","statements":[{"expression":{"id":3125,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3123,"name":"requestedDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3101,"src":"9698:13:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":3124,"name":"previousEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3095,"src":"9714:23:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9698:39:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3126,"nodeType":"ExpressionStatement","src":"9698:39:4"}]}},"id":3134,"nodeType":"IfStatement","src":"9520:306:4","trueBody":{"id":3119,"nodeType":"Block","src":"9567:63:4","statements":[{"expression":{"id":3117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3115,"name":"requestedDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3101,"src":"9581:13:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":3116,"name":"currentEpochDifficulty","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3089,"src":"9597:22:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9581:38:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3118,"nodeType":"ExpressionStatement","src":"9581:38:4"}]}},{"assignments":[3136],"declarations":[{"constant":false,"id":3136,"mutability":"mutable","name":"observedDiff","nameLocation":"9844:12:4","nodeType":"VariableDeclaration","scope":3178,"src":"9836:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3135,"name":"uint256","nodeType":"ElementaryTypeName","src":"9836:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3140,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3137,"name":"bitcoinHeaders","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3079,"src":"9859:14:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3138,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9874:19:4","memberName":"validateHeaderChain","nodeType":"MemberAccess","referencedDeclaration":2883,"src":"9859:34:4","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_bytes_memory_ptr_$returns$_t_uint256_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) view returns (uint256)"}},"id":3139,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9859:36:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9836:59:4"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3146,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3142,"name":"observedDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3136,"src":"9914:12:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3143,"name":"ValidateSPV","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2944,"src":"9930:11:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ValidateSPV_$2944_$","typeString":"type(library ValidateSPV)"}},"id":3144,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9942:15:4","memberName":"getErrBadLength","nodeType":"MemberAccess","referencedDeclaration":2713,"src":"9930:27:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_uint256_$","typeString":"function () pure returns (uint256)"}},"id":3145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9930:29:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9914:45:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c6964206c656e677468206f6620746865206865616465727320636861696e","id":3147,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"9961:37:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_92a0405652d516383f1545f4343c46ea0a68cf55d9e795cb647f2b3320f6ea40","typeString":"literal_string \"Invalid length of the headers chain\""},"value":"Invalid length of the headers chain"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_92a0405652d516383f1545f4343c46ea0a68cf55d9e795cb647f2b3320f6ea40","typeString":"literal_string \"Invalid length of the headers chain\""}],"id":3141,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"9906:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3148,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9906:93:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3149,"nodeType":"ExpressionStatement","src":"9906:93:4"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3155,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3151,"name":"observedDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3136,"src":"10017:12:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3152,"name":"ValidateSPV","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2944,"src":"10033:11:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ValidateSPV_$2944_$","typeString":"type(library ValidateSPV)"}},"id":3153,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10045:18:4","memberName":"getErrInvalidChain","nodeType":"MemberAccess","referencedDeclaration":2721,"src":"10033:30:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_uint256_$","typeString":"function () pure returns (uint256)"}},"id":3154,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10033:32:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10017:48:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e76616c6964206865616465727320636861696e","id":3156,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10067:23:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_2c2dfd181269a4c1ce4f235dbe6726e9e20ead12388274c8b22fe08e78db7336","typeString":"literal_string \"Invalid headers chain\""},"value":"Invalid headers chain"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_2c2dfd181269a4c1ce4f235dbe6726e9e20ead12388274c8b22fe08e78db7336","typeString":"literal_string \"Invalid headers chain\""}],"id":3150,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"10009:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3157,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10009:82:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3158,"nodeType":"ExpressionStatement","src":"10009:82:4"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3164,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3160,"name":"observedDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3136,"src":"10109:12:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3161,"name":"ValidateSPV","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2944,"src":"10125:11:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ValidateSPV_$2944_$","typeString":"type(library ValidateSPV)"}},"id":3162,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10137:13:4","memberName":"getErrLowWork","nodeType":"MemberAccess","referencedDeclaration":2729,"src":"10125:25:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_uint256_$","typeString":"function () pure returns (uint256)"}},"id":3163,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10125:27:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10109:43:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e73756666696369656e7420776f726b20696e206120686561646572","id":3165,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10154:31:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_6765317ac58a0bde6edd9b0a77da031b1983fd67bbdbda13051ed89ff1a508c9","typeString":"literal_string \"Insufficient work in a header\""},"value":"Insufficient work in a header"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_6765317ac58a0bde6edd9b0a77da031b1983fd67bbdbda13051ed89ff1a508c9","typeString":"literal_string \"Insufficient work in a header\""}],"id":3159,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"10101:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3166,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10101:85:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3167,"nodeType":"ExpressionStatement","src":"10101:85:4"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3174,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3169,"name":"observedDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3136,"src":"10218:12:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3173,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3170,"name":"requestedDiff","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3101,"src":"10234:13:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"expression":{"id":3171,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3077,"src":"10250:4:4","typeDescriptions":{"typeIdentifier":"t_struct$_Storage_$3466_storage_ptr","typeString":"struct BridgeState.Storage storage pointer"}},"id":3172,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10255:23:4","memberName":"txProofDifficultyFactor","nodeType":"MemberAccess","referencedDeclaration":3465,"src":"10250:28:4","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"src":"10234:44:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10218:60:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"496e73756666696369656e7420616363756d756c6174656420646966666963756c747920696e2068656164657220636861696e","id":3175,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"10292:53:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_783c1ec375fff1301ad34ffc02be448b47c08a18ace7140b3cc0f461b18129c2","typeString":"literal_string \"Insufficient accumulated difficulty in header chain\""},"value":"Insufficient accumulated difficulty in header chain"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_783c1ec375fff1301ad34ffc02be448b47c08a18ace7140b3cc0f461b18129c2","typeString":"literal_string \"Insufficient accumulated difficulty in header chain\""}],"id":3168,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"10197:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3176,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10197:158:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3177,"nodeType":"ExpressionStatement","src":"10197:158:4"}]},"documentation":{"id":3074,"nodeType":"StructuredDocumentation","src":"8741:343:4","text":"@notice Evaluates the given Bitcoin proof difficulty against the actual\n         Bitcoin chain difficulty provided by the relay oracle.\n         Reverts in case the evaluation fails.\n @param bitcoinHeaders Bitcoin headers chain being part of the SPV\n        proof. Used to extract the observed proof difficulty."},"implemented":true,"kind":"function","modifiers":[],"name":"evaluateProofDifficulty","nameLocation":"9098:23:4","parameters":{"id":3080,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3077,"mutability":"mutable","name":"self","nameLocation":"9150:4:4","nodeType":"VariableDeclaration","scope":3179,"src":"9122:32:4","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_Storage_$3466_storage_ptr","typeString":"struct BridgeState.Storage"},"typeName":{"id":3076,"nodeType":"UserDefinedTypeName","pathNode":{"id":3075,"name":"BridgeState.Storage","nameLocations":["9122:11:4","9134:7:4"],"nodeType":"IdentifierPath","referencedDeclaration":3466,"src":"9122:19:4"},"referencedDeclaration":3466,"src":"9122:19:4","typeDescriptions":{"typeIdentifier":"t_struct$_Storage_$3466_storage_ptr","typeString":"struct BridgeState.Storage"}},"visibility":"internal"},{"constant":false,"id":3079,"mutability":"mutable","name":"bitcoinHeaders","nameLocation":"9169:14:4","nodeType":"VariableDeclaration","scope":3179,"src":"9156:27:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3078,"name":"bytes","nodeType":"ElementaryTypeName","src":"9156:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"9121:63:4"},"returnParameters":{"id":3081,"nodeType":"ParameterList","parameters":[],"src":"9199:0:4"},"scope":3457,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":3184,"nodeType":"StructDefinition","src":"10683:221:4","nodes":[],"canonicalName":"BitcoinTx.TxOutputsProcessingInfo","members":[{"constant":false,"id":3181,"mutability":"mutable","name":"outputStartingIndex","nameLocation":"10795:19:4","nodeType":"VariableDeclaration","scope":3184,"src":"10787:27:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3180,"name":"uint256","nodeType":"ElementaryTypeName","src":"10787:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":3183,"mutability":"mutable","name":"outputsCount","nameLocation":"10885:12:4","nodeType":"VariableDeclaration","scope":3184,"src":"10877:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3182,"name":"uint256","nodeType":"ElementaryTypeName","src":"10877:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"TxOutputsProcessingInfo","nameLocation":"10690:23:4","scope":3457,"visibility":"public"},{"id":3218,"nodeType":"FunctionDefinition","src":"11357:1402:4","nodes":[],"body":{"id":3217,"nodeType":"Block","src":"11470:1289:4","nodes":[],"statements":[{"assignments":[3195,3197],"declarations":[{"constant":false,"id":3195,"mutability":"mutable","name":"outputsCompactSizeUintLength","nameLocation":"11656:28:4","nodeType":"VariableDeclaration","scope":3217,"src":"11648:36:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3194,"name":"uint256","nodeType":"ElementaryTypeName","src":"11648:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":3197,"mutability":"mutable","name":"outputsCount","nameLocation":"11694:12:4","nodeType":"VariableDeclaration","scope":3217,"src":"11686:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3196,"name":"uint256","nodeType":"ElementaryTypeName","src":"11686:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3201,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"id":3198,"name":"txOutputVector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3189,"src":"11710:14:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3199,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11725:11:4","memberName":"parseVarInt","nodeType":"MemberAccess","referencedDeclaration":110,"src":"11710:26:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$_t_uint256_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) pure returns (uint256,uint256)"}},"id":3200,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11710:28:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"11647:91:4"},{"assignments":[3203],"declarations":[{"constant":false,"id":3203,"mutability":"mutable","name":"outputStartingIndex","nameLocation":"12548:19:4","nodeType":"VariableDeclaration","scope":3217,"src":"12540:27:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3202,"name":"uint256","nodeType":"ElementaryTypeName","src":"12540:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3207,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3206,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"31","id":3204,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"12570:1:4","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":3205,"name":"outputsCompactSizeUintLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3195,"src":"12574:28:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"12570:32:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"12540:62:4"},{"expression":{"arguments":[{"id":3209,"name":"scriptPubKeyHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3187,"src":"12650:16:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},{"id":3210,"name":"txOutputVector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3189,"src":"12668:14:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"arguments":[{"id":3212,"name":"outputStartingIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3203,"src":"12708:19:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":3213,"name":"outputsCount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3197,"src":"12729:12:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":3211,"name":"TxOutputsProcessingInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3184,"src":"12684:23:4","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_TxOutputsProcessingInfo_$3184_storage_ptr_$","typeString":"type(struct BitcoinTx.TxOutputsProcessingInfo storage pointer)"}},"id":3214,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12684:58:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo memory"}],"id":3208,"name":"getTxOutputValue","nodeType":"Identifier","overloadedDeclarations":[3218,3295],"referencedDeclaration":3295,"src":"12620:16:4","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_bytes32_$_t_bytes_memory_ptr_$_t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr_$returns$_t_uint64_$","typeString":"function (bytes32,bytes memory,struct BitcoinTx.TxOutputsProcessingInfo memory) returns (uint64)"}},"id":3215,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"12620:132:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"functionReturnParameters":3193,"id":3216,"nodeType":"Return","src":"12613:139:4"}]},"documentation":{"id":3185,"nodeType":"StructuredDocumentation","src":"10910:442:4","text":"@notice Processes the Bitcoin transaction output vector.\n @param scriptPubKeyHash Expected Bitcoin scriptPubKey keccak256 hash.\n @param txOutputVector Bitcoin transaction output vector.\n        This function assumes vector's structure is valid so it\n        must be validated using e.g. `BTCUtils.validateVout` function\n        before it is passed here.\n @return value Outcomes of the processing."},"implemented":true,"kind":"function","modifiers":[],"name":"getTxOutputValue","nameLocation":"11366:16:4","parameters":{"id":3190,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3187,"mutability":"mutable","name":"scriptPubKeyHash","nameLocation":"11391:16:4","nodeType":"VariableDeclaration","scope":3218,"src":"11383:24:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3186,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11383:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":3189,"mutability":"mutable","name":"txOutputVector","nameLocation":"11422:14:4","nodeType":"VariableDeclaration","scope":3218,"src":"11409:27:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3188,"name":"bytes","nodeType":"ElementaryTypeName","src":"11409:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"11382:55:4"},"returnParameters":{"id":3193,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3192,"mutability":"mutable","name":"value","nameLocation":"11463:5:4","nodeType":"VariableDeclaration","scope":3218,"src":"11456:12:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3191,"name":"uint64","nodeType":"ElementaryTypeName","src":"11456:6:4","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"11455:14:4"},"scope":3457,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":3295,"nodeType":"FunctionDefinition","src":"13269:1835:4","nodes":[],"body":{"id":3294,"nodeType":"Block","src":"13456:1648:4","nodes":[],"statements":[{"body":{"id":3288,"nodeType":"Block","src":"13557:1488:4","statements":[{"assignments":[3243],"declarations":[{"constant":false,"id":3243,"mutability":"mutable","name":"outputLength","nameLocation":"13579:12:4","nodeType":"VariableDeclaration","scope":3288,"src":"13571:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3242,"name":"uint256","nodeType":"ElementaryTypeName","src":"13571:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3249,"initialValue":{"arguments":[{"expression":{"id":3246,"name":"processInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3226,"src":"13633:11:4","typeDescriptions":{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo memory"}},"id":3247,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13645:19:4","memberName":"outputStartingIndex","nodeType":"MemberAccess","referencedDeclaration":3181,"src":"13633:31:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3244,"name":"txOutputVector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3223,"src":"13594:14:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3245,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13609:23:4","memberName":"determineOutputLengthAt","nodeType":"MemberAccess","referencedDeclaration":1204,"src":"13594:38:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint256_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (uint256)"}},"id":3248,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13594:71:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"13571:94:4"},{"assignments":[3251],"declarations":[{"constant":false,"id":3251,"mutability":"mutable","name":"outputValue","nameLocation":"13739:11:4","nodeType":"VariableDeclaration","scope":3288,"src":"13732:18:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3250,"name":"uint64","nodeType":"ElementaryTypeName","src":"13732:6:4","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"id":3257,"initialValue":{"arguments":[{"expression":{"id":3254,"name":"processInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3226,"src":"13783:11:4","typeDescriptions":{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo memory"}},"id":3255,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13795:19:4","memberName":"outputStartingIndex","nodeType":"MemberAccess","referencedDeclaration":3181,"src":"13783:31:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3252,"name":"txOutputVector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3223,"src":"13753:14:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3253,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"13768:14:4","memberName":"extractValueAt","nodeType":"MemberAccess","referencedDeclaration":1372,"src":"13753:29:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint64_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (uint64)"}},"id":3256,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"13753:62:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"nodeType":"VariableDeclarationStatement","src":"13732:83:4"},{"assignments":[3259],"declarations":[{"constant":false,"id":3259,"mutability":"mutable","name":"scriptLength","nameLocation":"14030:12:4","nodeType":"VariableDeclaration","scope":3288,"src":"14022:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3258,"name":"uint256","nodeType":"ElementaryTypeName","src":"14022:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3263,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3262,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3260,"name":"outputLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3243,"src":"14045:12:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"38","id":3261,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14060:1:4","typeDescriptions":{"typeIdentifier":"t_rational_8_by_1","typeString":"int_const 8"},"value":"8"},"src":"14045:16:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14022:39:4"},{"assignments":[3265],"declarations":[{"constant":false,"id":3265,"mutability":"mutable","name":"outputScriptStart","nameLocation":"14083:17:4","nodeType":"VariableDeclaration","scope":3288,"src":"14075:25:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3264,"name":"uint256","nodeType":"ElementaryTypeName","src":"14075:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3270,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3269,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":3266,"name":"processInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3226,"src":"14103:11:4","typeDescriptions":{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo memory"}},"id":3267,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"14115:19:4","memberName":"outputStartingIndex","nodeType":"MemberAccess","referencedDeclaration":3181,"src":"14103:31:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"38","id":3268,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"14137:1:4","typeDescriptions":{"typeIdentifier":"t_rational_8_by_1","typeString":"int_const 8"},"value":"8"},"src":"14103:35:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"14075:63:4"},{"assignments":[3272],"declarations":[{"constant":false,"id":3272,"mutability":"mutable","name":"outputScriptHash","nameLocation":"14161:16:4","nodeType":"VariableDeclaration","scope":3288,"src":"14153:24:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3271,"name":"bytes32","nodeType":"ElementaryTypeName","src":"14153:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":3273,"nodeType":"VariableDeclarationStatement","src":"14153:24:4"},{"AST":{"nodeType":"YulBlock","src":"14263:469:4","statements":[{"nodeType":"YulAssignment","src":"14626:92:4","value":{"arguments":[{"arguments":[{"name":"txOutputVector","nodeType":"YulIdentifier","src":"14660:14:4"},{"arguments":[{"name":"outputScriptStart","nodeType":"YulIdentifier","src":"14680:17:4"},{"kind":"number","nodeType":"YulLiteral","src":"14699:2:4","type":"","value":"32"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"14676:3:4"},"nodeType":"YulFunctionCall","src":"14676:26:4"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"14656:3:4"},"nodeType":"YulFunctionCall","src":"14656:47:4"},{"name":"scriptLength","nodeType":"YulIdentifier","src":"14705:12:4"}],"functionName":{"name":"keccak256","nodeType":"YulIdentifier","src":"14646:9:4"},"nodeType":"YulFunctionCall","src":"14646:72:4"},"variableNames":[{"name":"outputScriptHash","nodeType":"YulIdentifier","src":"14626:16:4"}]}]},"evmVersion":"london","externalReferences":[{"declaration":3272,"isOffset":false,"isSlot":false,"src":"14626:16:4","valueSize":1},{"declaration":3265,"isOffset":false,"isSlot":false,"src":"14680:17:4","valueSize":1},{"declaration":3259,"isOffset":false,"isSlot":false,"src":"14705:12:4","valueSize":1},{"declaration":3223,"isOffset":false,"isSlot":false,"src":"14660:14:4","valueSize":1}],"id":3274,"nodeType":"InlineAssembly","src":"14254:478:4"},{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":3277,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3275,"name":"scriptPubKeyHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3221,"src":"14750:16:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":3276,"name":"outputScriptHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3272,"src":"14770:16:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"14750:36:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3281,"nodeType":"IfStatement","src":"14746:93:4","trueBody":{"id":3280,"nodeType":"Block","src":"14788:51:4","statements":[{"expression":{"id":3278,"name":"outputValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3251,"src":"14813:11:4","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"functionReturnParameters":3230,"id":3279,"nodeType":"Return","src":"14806:18:4"}]}},{"expression":{"id":3286,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":3282,"name":"processInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3226,"src":"14987:11:4","typeDescriptions":{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo memory"}},"id":3284,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"14999:19:4","memberName":"outputStartingIndex","nodeType":"MemberAccess","referencedDeclaration":3181,"src":"14987:31:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"+=","rightHandSide":{"id":3285,"name":"outputLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3243,"src":"15022:12:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"14987:47:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3287,"nodeType":"ExpressionStatement","src":"14987:47:4"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3238,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3235,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"13522:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":3236,"name":"processInfo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3226,"src":"13526:11:4","typeDescriptions":{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo memory"}},"id":3237,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"13538:12:4","memberName":"outputsCount","nodeType":"MemberAccess","referencedDeclaration":3183,"src":"13526:24:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"13522:28:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3289,"initializationExpression":{"assignments":[3232],"declarations":[{"constant":false,"id":3232,"mutability":"mutable","name":"i","nameLocation":"13515:1:4","nodeType":"VariableDeclaration","scope":3289,"src":"13507:9:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3231,"name":"uint256","nodeType":"ElementaryTypeName","src":"13507:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3234,"initialValue":{"hexValue":"30","id":3233,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"13519:1:4","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"13507:13:4"},"loopExpression":{"expression":{"id":3240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"13552:3:4","subExpression":{"id":3239,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3232,"src":"13552:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3241,"nodeType":"ExpressionStatement","src":"13552:3:4"},"nodeType":"ForStatement","src":"13502:1543:4"},{"expression":{"arguments":[{"hexValue":"4e6f206f757470757420666f756e6420666f72207363726970745075624b6579","id":3291,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"15062:34:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_589a137ea1f14879ba872e2a5b3f2d1bc7cc357836a8b31122fd1126f045d5c5","typeString":"literal_string \"No output found for scriptPubKey\""},"value":"No output found for scriptPubKey"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_589a137ea1f14879ba872e2a5b3f2d1bc7cc357836a8b31122fd1126f045d5c5","typeString":"literal_string \"No output found for scriptPubKey\""}],"id":3290,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"15055:6:4","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":3292,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15055:42:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3293,"nodeType":"ExpressionStatement","src":"15055:42:4"}]},"documentation":{"id":3219,"nodeType":"StructuredDocumentation","src":"12765:499:4","text":"@notice Processes all outputs from the transaction.\n @param scriptPubKeyHash Expected Bitcoin scriptPubKey keccak256 hash.\n @param txOutputVector Bitcoin transaction output vector. This function\n        assumes vector's structure is valid so it must be validated using\n        e.g. `BTCUtils.validateVout` function before it is passed here.\n @param processInfo TxOutputsProcessingInfo identifying output\n        starting index and the number of outputs."},"implemented":true,"kind":"function","modifiers":[],"name":"getTxOutputValue","nameLocation":"13278:16:4","parameters":{"id":3227,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3221,"mutability":"mutable","name":"scriptPubKeyHash","nameLocation":"13312:16:4","nodeType":"VariableDeclaration","scope":3295,"src":"13304:24:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3220,"name":"bytes32","nodeType":"ElementaryTypeName","src":"13304:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":3223,"mutability":"mutable","name":"txOutputVector","nameLocation":"13351:14:4","nodeType":"VariableDeclaration","scope":3295,"src":"13338:27:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3222,"name":"bytes","nodeType":"ElementaryTypeName","src":"13338:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":3226,"mutability":"mutable","name":"processInfo","nameLocation":"13406:11:4","nodeType":"VariableDeclaration","scope":3295,"src":"13375:42:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_memory_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo"},"typeName":{"id":3225,"nodeType":"UserDefinedTypeName","pathNode":{"id":3224,"name":"TxOutputsProcessingInfo","nameLocations":["13375:23:4"],"nodeType":"IdentifierPath","referencedDeclaration":3184,"src":"13375:23:4"},"referencedDeclaration":3184,"src":"13375:23:4","typeDescriptions":{"typeIdentifier":"t_struct$_TxOutputsProcessingInfo_$3184_storage_ptr","typeString":"struct BitcoinTx.TxOutputsProcessingInfo"}},"visibility":"internal"}],"src":"13294:129:4"},"returnParameters":{"id":3230,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3229,"mutability":"mutable","name":"value","nameLocation":"13449:5:4","nodeType":"VariableDeclaration","scope":3295,"src":"13442:12:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":3228,"name":"uint64","nodeType":"ElementaryTypeName","src":"13442:6:4","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"13441:14:4"},"scope":3457,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":3338,"nodeType":"FunctionDefinition","src":"15110:319:4","nodes":[],"body":{"id":3337,"nodeType":"Block","src":"15187:242:4","nodes":[],"statements":[{"assignments":[3303],"declarations":[{"constant":false,"id":3303,"mutability":"mutable","name":"newValue","nameLocation":"15210:8:4","nodeType":"VariableDeclaration","scope":3337,"src":"15197:21:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3302,"name":"bytes","nodeType":"ElementaryTypeName","src":"15197:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":3309,"initialValue":{"arguments":[{"expression":{"id":3306,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3297,"src":"15231:1:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":3307,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15233:6:4","memberName":"length","nodeType":"MemberAccess","src":"15231:8:4","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint8","typeString":"uint8"}],"id":3305,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"15221:9:4","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_bytes_memory_ptr_$","typeString":"function (uint256) pure returns (bytes memory)"},"typeName":{"id":3304,"name":"bytes","nodeType":"ElementaryTypeName","src":"15225:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}}},"id":3308,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15221:19:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"15197:43:4"},{"body":{"id":3334,"nodeType":"Block","src":"15289:58:4","statements":[{"expression":{"id":3332,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":3321,"name":"newValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3303,"src":"15303:8:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3328,"indexExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3327,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3325,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":3322,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3297,"src":"15312:1:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":3323,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15314:6:4","memberName":"length","nodeType":"MemberAccess","src":"15312:8:4","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":3324,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3311,"src":"15323:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15312:12:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":3326,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15327:1:4","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"15312:16:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"15303:26:4","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":3329,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3297,"src":"15332:1:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":3331,"indexExpression":{"id":3330,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3311,"src":"15334:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"15332:4:4","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"src":"15303:33:4","typeDescriptions":{"typeIdentifier":"t_bytes1","typeString":"bytes1"}},"id":3333,"nodeType":"ExpressionStatement","src":"15303:33:4"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3317,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3314,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3311,"src":"15270:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":3315,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3297,"src":"15274:1:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":3316,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15276:6:4","memberName":"length","nodeType":"MemberAccess","src":"15274:8:4","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"15270:12:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3335,"initializationExpression":{"assignments":[3311],"declarations":[{"constant":false,"id":3311,"mutability":"mutable","name":"i","nameLocation":"15263:1:4","nodeType":"VariableDeclaration","scope":3335,"src":"15255:9:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3310,"name":"uint256","nodeType":"ElementaryTypeName","src":"15255:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3313,"initialValue":{"hexValue":"30","id":3312,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15267:1:4","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"15255:13:4"},"loopExpression":{"expression":{"id":3319,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"15284:3:4","subExpression":{"id":3318,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3311,"src":"15284:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3320,"nodeType":"ExpressionStatement","src":"15284:3:4"},"nodeType":"ForStatement","src":"15250:97:4"},{"AST":{"nodeType":"YulBlock","src":"15365:58:4","statements":[{"nodeType":"YulAssignment","src":"15379:34:4","value":{"arguments":[{"arguments":[{"name":"newValue","nodeType":"YulIdentifier","src":"15399:8:4"},{"kind":"number","nodeType":"YulLiteral","src":"15409:2:4","type":"","value":"32"}],"functionName":{"name":"add","nodeType":"YulIdentifier","src":"15395:3:4"},"nodeType":"YulFunctionCall","src":"15395:17:4"}],"functionName":{"name":"mload","nodeType":"YulIdentifier","src":"15389:5:4"},"nodeType":"YulFunctionCall","src":"15389:24:4"},"variableNames":[{"name":"txHash","nodeType":"YulIdentifier","src":"15379:6:4"}]}]},"evmVersion":"london","externalReferences":[{"declaration":3303,"isOffset":false,"isSlot":false,"src":"15399:8:4","valueSize":1},{"declaration":3300,"isOffset":false,"isSlot":false,"src":"15379:6:4","valueSize":1}],"id":3336,"nodeType":"InlineAssembly","src":"15356:67:4"}]},"implemented":true,"kind":"function","modifiers":[],"name":"reverseEndianness","nameLocation":"15119:17:4","parameters":{"id":3298,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3297,"mutability":"mutable","name":"b","nameLocation":"15145:1:4","nodeType":"VariableDeclaration","scope":3338,"src":"15137:9:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3296,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15137:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"15136:11:4"},"returnParameters":{"id":3301,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3300,"mutability":"mutable","name":"txHash","nameLocation":"15179:6:4","nodeType":"VariableDeclaration","scope":3338,"src":"15171:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3299,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15171:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"15170:16:4"},"scope":3457,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":3456,"nodeType":"FunctionDefinition","src":"15435:1104:4","nodes":[],"body":{"id":3455,"nodeType":"Block","src":"15529:1010:4","nodes":[],"statements":[{"assignments":[3347],"declarations":[{"constant":false,"id":3347,"mutability":"mutable","name":"_varIntDataLen","nameLocation":"15547:14:4","nodeType":"VariableDeclaration","scope":3455,"src":"15539:22:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3346,"name":"uint256","nodeType":"ElementaryTypeName","src":"15539:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3348,"nodeType":"VariableDeclarationStatement","src":"15539:22:4"},{"assignments":[3350],"declarations":[{"constant":false,"id":3350,"mutability":"mutable","name":"_nIns","nameLocation":"15579:5:4","nodeType":"VariableDeclaration","scope":3455,"src":"15571:13:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3349,"name":"uint256","nodeType":"ElementaryTypeName","src":"15571:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3351,"nodeType":"VariableDeclarationStatement","src":"15571:13:4"},{"expression":{"id":3359,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":3352,"name":"_varIntDataLen","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3347,"src":"15596:14:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":3353,"name":"_nIns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3350,"src":"15612:5:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":3354,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"15595:23:4","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":3357,"name":"_vin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3340,"src":"15642:4:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":3355,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"15621:8:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":3356,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15630:11:4","memberName":"parseVarInt","nodeType":"MemberAccess","referencedDeclaration":110,"src":"15621:20:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_uint256_$_t_uint256_$","typeString":"function (bytes memory) pure returns (uint256,uint256)"}},"id":3358,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15621:26:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"src":"15595:52:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3360,"nodeType":"ExpressionStatement","src":"15595:52:4"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3365,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3362,"name":"_varIntDataLen","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3347,"src":"15665:14:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":3363,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"15683:8:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":3364,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"15692:11:4","memberName":"ERR_BAD_ARG","nodeType":"MemberAccess","referencedDeclaration":31,"src":"15683:20:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15665:38:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"52656164206f76657272756e20647572696e6720566172496e742070617273696e67","id":3366,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"15705:36:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_44f1d85595cd9e7bca9d9a2d6049b01f75f753890836287504890b72b66f7afd","typeString":"literal_string \"Read overrun during VarInt parsing\""},"value":"Read overrun during VarInt parsing"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_44f1d85595cd9e7bca9d9a2d6049b01f75f753890836287504890b72b66f7afd","typeString":"literal_string \"Read overrun during VarInt parsing\""}],"id":3361,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"15657:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3367,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15657:85:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3368,"nodeType":"ExpressionStatement","src":"15657:85:4"},{"assignments":[3370],"declarations":[{"constant":false,"id":3370,"mutability":"mutable","name":"_len","nameLocation":"15761:4:4","nodeType":"VariableDeclaration","scope":3455,"src":"15753:12:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3369,"name":"uint256","nodeType":"ElementaryTypeName","src":"15753:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3372,"initialValue":{"hexValue":"30","id":3371,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15768:1:4","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"15753:16:4"},{"assignments":[3374],"declarations":[{"constant":false,"id":3374,"mutability":"mutable","name":"_offset","nameLocation":"15787:7:4","nodeType":"VariableDeclaration","scope":3455,"src":"15779:15:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3373,"name":"uint256","nodeType":"ElementaryTypeName","src":"15779:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3378,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3377,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"31","id":3375,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15797:1:4","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":3376,"name":"_varIntDataLen","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3347,"src":"15801:14:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15797:18:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"15779:36:4"},{"assignments":[3380],"declarations":[{"constant":false,"id":3380,"mutability":"mutable","name":"expectedTxHash","nameLocation":"15834:14:4","nodeType":"VariableDeclaration","scope":3455,"src":"15826:22:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3379,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15826:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":3385,"initialValue":{"arguments":[{"expression":{"id":3382,"name":"utxo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3343,"src":"15869:4:4","typeDescriptions":{"typeIdentifier":"t_struct$_UTXO_$3002_memory_ptr","typeString":"struct BitcoinTx.UTXO memory"}},"id":3383,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"15874:6:4","memberName":"txHash","nodeType":"MemberAccess","referencedDeclaration":2995,"src":"15869:11:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":3381,"name":"reverseEndianness","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3338,"src":"15851:17:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes32_$returns$_t_bytes32_$","typeString":"function (bytes32) pure returns (bytes32)"}},"id":3384,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15851:30:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"15826:55:4"},{"body":{"id":3449,"nodeType":"Block","src":"15931:537:4","statements":[{"assignments":[3397],"declarations":[{"constant":false,"id":3397,"mutability":"mutable","name":"outpointTxHash","nameLocation":"15953:14:4","nodeType":"VariableDeclaration","scope":3449,"src":"15945:22:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":3396,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15945:7:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":3402,"initialValue":{"arguments":[{"id":3400,"name":"_offset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3374,"src":"15996:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3398,"name":"_vin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3340,"src":"15970:4:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3399,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"15975:20:4","memberName":"extractInputTxIdLeAt","nodeType":"MemberAccess","referencedDeclaration":1105,"src":"15970:25:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_bytes32_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (bytes32)"}},"id":3401,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"15970:34:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"15945:59:4"},{"assignments":[3404],"declarations":[{"constant":false,"id":3404,"mutability":"mutable","name":"outpointIndex","nameLocation":"16025:13:4","nodeType":"VariableDeclaration","scope":3449,"src":"16018:20:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":3403,"name":"uint32","nodeType":"ElementaryTypeName","src":"16018:6:4","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"id":3415,"initialValue":{"arguments":[{"arguments":[{"arguments":[{"id":3411,"name":"_offset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3374,"src":"16095:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3409,"name":"_vin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3340,"src":"16071:4:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3410,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16076:18:4","memberName":"extractTxIndexLeAt","nodeType":"MemberAccess","referencedDeclaration":1137,"src":"16071:23:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_bytes4_$bound_to$_t_bytes_memory_ptr_$","typeString":"function (bytes memory,uint256) pure returns (bytes4)"}},"id":3412,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16071:32:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":3408,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"16064:6:4","typeDescriptions":{"typeIdentifier":"t_type$_t_uint32_$","typeString":"type(uint32)"},"typeName":{"id":3407,"name":"uint32","nodeType":"ElementaryTypeName","src":"16064:6:4","typeDescriptions":{}}},"id":3413,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16064:40:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint32","typeString":"uint32"}],"expression":{"id":3405,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"16041:8:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":3406,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16050:13:4","memberName":"reverseUint32","nodeType":"MemberAccess","referencedDeclaration":468,"src":"16041:22:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint32_$returns$_t_uint32_$","typeString":"function (uint32) pure returns (uint32)"}},"id":3414,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16041:64:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"VariableDeclarationStatement","src":"16018:87:4"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":3423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":3418,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3416,"name":"expectedTxHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3380,"src":"16162:14:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":3417,"name":"outpointTxHash","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3397,"src":"16180:14:4","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"16162:32:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint32","typeString":"uint32"},"id":3422,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":3419,"name":"utxo","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3343,"src":"16198:4:4","typeDescriptions":{"typeIdentifier":"t_struct$_UTXO_$3002_memory_ptr","typeString":"struct BitcoinTx.UTXO memory"}},"id":3420,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"16203:13:4","memberName":"txOutputIndex","nodeType":"MemberAccess","referencedDeclaration":2998,"src":"16198:18:4","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":3421,"name":"outpointIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3404,"src":"16220:13:4","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"src":"16198:35:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"16162:71:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3426,"nodeType":"IfStatement","src":"16158:116:4","trueBody":{"id":3425,"nodeType":"Block","src":"16235:39:4","statements":[{"functionReturnParameters":3345,"id":3424,"nodeType":"Return","src":"16253:7:4"}]}},{"expression":{"id":3433,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3427,"name":"_len","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3370,"src":"16288:4:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":3430,"name":"_vin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3340,"src":"16327:4:4","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":3431,"name":"_offset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3374,"src":"16333:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":3428,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"16295:8:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":3429,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"16304:22:4","memberName":"determineInputLengthAt","nodeType":"MemberAccess","referencedDeclaration":913,"src":"16295:31:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_uint256_$","typeString":"function (bytes memory,uint256) pure returns (uint256)"}},"id":3432,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16295:46:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16288:53:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3434,"nodeType":"ExpressionStatement","src":"16288:53:4"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3436,"name":"_len","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3370,"src":"16363:4:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"id":3437,"name":"BTCUtils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2202,"src":"16371:8:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_BTCUtils_$2202_$","typeString":"type(library BTCUtils)"}},"id":3438,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"16380:11:4","memberName":"ERR_BAD_ARG","nodeType":"MemberAccess","referencedDeclaration":31,"src":"16371:20:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16363:28:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"42616420566172496e7420696e20736372697074536967","id":3440,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"16393:25:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_5a8a4de2c8904c92ac1068c35465c2d5adf89b19d43265f879508348e387f026","typeString":"literal_string \"Bad VarInt in scriptSig\""},"value":"Bad VarInt in scriptSig"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_5a8a4de2c8904c92ac1068c35465c2d5adf89b19d43265f879508348e387f026","typeString":"literal_string \"Bad VarInt in scriptSig\""}],"id":3435,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"16355:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":3441,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16355:64:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3442,"nodeType":"ExpressionStatement","src":"16355:64:4"},{"expression":{"id":3447,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":3443,"name":"_offset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3374,"src":"16433:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3446,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3444,"name":"_offset","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3374,"src":"16443:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":3445,"name":"_len","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3370,"src":"16453:4:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16443:14:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"16433:24:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3448,"nodeType":"ExpressionStatement","src":"16433:24:4"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3392,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3390,"name":"_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3387,"src":"15913:2:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":3391,"name":"_nIns","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3350,"src":"15918:5:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"15913:10:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3450,"initializationExpression":{"assignments":[3387],"declarations":[{"constant":false,"id":3387,"mutability":"mutable","name":"_i","nameLocation":"15905:2:4","nodeType":"VariableDeclaration","scope":3450,"src":"15897:10:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3386,"name":"uint256","nodeType":"ElementaryTypeName","src":"15897:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3389,"initialValue":{"hexValue":"30","id":3388,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"15910:1:4","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"15897:14:4"},"loopExpression":{"expression":{"id":3394,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"15925:4:4","subExpression":{"id":3393,"name":"_i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3387,"src":"15925:2:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":3395,"nodeType":"ExpressionStatement","src":"15925:4:4"},"nodeType":"ForStatement","src":"15892:576:4"},{"expression":{"arguments":[{"hexValue":"5472616e73616374696f6e20646f6573206e6f74207370656e6420746865207265717569726564207574786f","id":3452,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"16485:46:4","typeDescriptions":{"typeIdentifier":"t_stringliteral_4c8fc3e101398acaf7dff5975649ea3808f67c2ff908e7bbcea01acff7324b93","typeString":"literal_string \"Transaction does not spend the required utxo\""},"value":"Transaction does not spend the required utxo"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_4c8fc3e101398acaf7dff5975649ea3808f67c2ff908e7bbcea01acff7324b93","typeString":"literal_string \"Transaction does not spend the required utxo\""}],"id":3451,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"16478:6:4","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":3453,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"16478:54:4","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3454,"nodeType":"ExpressionStatement","src":"16478:54:4"}]},"implemented":true,"kind":"function","modifiers":[],"name":"ensureTxInputSpendsUtxo","nameLocation":"15444:23:4","parameters":{"id":3344,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3340,"mutability":"mutable","name":"_vin","nameLocation":"15481:4:4","nodeType":"VariableDeclaration","scope":3456,"src":"15468:17:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3339,"name":"bytes","nodeType":"ElementaryTypeName","src":"15468:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":3343,"mutability":"mutable","name":"utxo","nameLocation":"15509:4:4","nodeType":"VariableDeclaration","scope":3456,"src":"15487:26:4","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_UTXO_$3002_memory_ptr","typeString":"struct BitcoinTx.UTXO"},"typeName":{"id":3342,"nodeType":"UserDefinedTypeName","pathNode":{"id":3341,"name":"BitcoinTx.UTXO","nameLocations":["15487:9:4","15497:4:4"],"nodeType":"IdentifierPath","referencedDeclaration":3002,"src":"15487:14:4"},"referencedDeclaration":3002,"src":"15487:14:4","typeDescriptions":{"typeIdentifier":"t_struct$_UTXO_$3002_storage_ptr","typeString":"struct BitcoinTx.UTXO"}},"visibility":"internal"}],"src":"15467:47:4"},"returnParameters":{"id":3345,"nodeType":"ParameterList","parameters":[],"src":"15529:0:4"},"scope":3457,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"BitcoinTx","contractDependencies":[],"contractKind":"library","documentation":{"id":2954,"nodeType":"StructuredDocumentation","src":"1312:3762:4","text":"Non-coinbase transaction input (txIn):\n      | Bytes  |       Name       |        BTC type        |                 Description                 |\n      |--------|------------------|------------------------|---------------------------------------------|\n      | 36     | previous_output  | outpoint               | The previous outpoint being spent           |\n      | varies | script_bytes     | compactSize uint (LE)  | The number of bytes in the signature script |\n      | varies | signature_script | char[]                 | The signature script, empty for P2WSH       |\n      | 4      | sequence         | uint32_t (LE)          | Sequence number                             |\n      The reference to transaction being spent (outpoint):\n      | Bytes | Name  |   BTC type    |               Description                |\n      |-------|-------|---------------|------------------------------------------|\n      |    32 | hash  | char[32]      | Hash of the transaction to spend         |\n      |    4  | index | uint32_t (LE) | Index of the specific output from the TX |\n      Transaction output (txOut):\n      | Bytes  |      Name       |     BTC type          |             Description              |\n      |--------|-----------------|-----------------------|--------------------------------------|\n      | 8      | value           | int64_t (LE)          | Number of satoshis to spend          |\n      | 1+     | pk_script_bytes | compactSize uint (LE) | Number of bytes in the pubkey script |\n      | varies | pk_script       | char[]                | Pubkey script                        |\n      compactSize uint format:\n      |                  Value                  | Bytes |                    Format                    |\n      |-----------------------------------------|-------|----------------------------------------------|\n      | >= 0 && <= 252                          | 1     | uint8_t                                      |\n      | >= 253 && <= 0xffff                     | 3     | 0xfd followed by the number as uint16_t (LE) |\n      | >= 0x10000 && <= 0xffffffff             | 5     | 0xfe followed by the number as uint32_t (LE) |\n      | >= 0x100000000 && <= 0xffffffffffffffff | 9     | 0xff followed by the number as uint64_t (LE) |\n      (*) compactSize uint is often references as VarInt)\n      Coinbase transaction input (txIn):\n      | Bytes  |       Name       |        BTC type        |                 Description                 |\n      |--------|------------------|------------------------|---------------------------------------------|\n      | 32     | hash             | char[32]               | A 32-byte 0x0  null (no previous_outpoint)  |\n      | 4      | index            | uint32_t (LE)          | 0xffffffff (no previous_outpoint)           |\n      | varies | script_bytes     | compactSize uint (LE)  | The number of bytes in the coinbase script  |\n      | varies | height           | char[]                 | The block height of this block (BIP34) (*)  |\n      | varies | coinbase_script  | none                   |  Arbitrary data, max 100 bytes              |\n      | 4      | sequence         | uint32_t (LE)          | Sequence number\n      (*)  Uses script language: starts with a data-pushing opcode that indicates how many bytes to push to\n           the stack followed by the block height as a little-endian unsigned integer. This script must be as\n           short as possible, otherwise it may be rejected. The data-pushing opcode will be 0x03 and the total\n           size four bytes until block 16,777,216 about 300 years from now."},"fullyImplemented":true,"linearizedBaseContracts":[3457],"name":"BitcoinTx","nameLocation":"5082:9:4","scope":3458,"usedErrors":[]}],"license":"GPL-3.0-only"},"id":4}